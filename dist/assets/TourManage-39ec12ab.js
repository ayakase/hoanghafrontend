import{_ as x,c as p,d as m,p as q,m as S,e as t,u as P,r as _,o as Q,a as E,l as r,f as e,z as T,A as K,t as i,F as R,g as z,h as F,i as G,j as H,b as w,s as $}from"./index-25ca64ce.js";const U={name:"TableLoading"},y=u=>(q("data-v-3b52e111"),u=u(),S(),u),j={class:"lds-facebook"},X=y(()=>t("div",null,null,-1)),J=y(()=>t("div",null,null,-1)),W=y(()=>t("div",null,null,-1)),Y=[X,J,W];function Z(u,n,h,b,k,c){return p(),m("div",j,Y)}const tt=x(U,[["render",Z],["__scopeId","data-v-3b52e111"]]);const s=u=>(q("data-v-7ba1631e"),u=u(),S(),u),ot={class:"admin-tour-crud"},et=s(()=>t("i",{class:"fa-solid fa-plus"},null,-1)),st={class:"sorting-container"},nt=s(()=>t("div",{style:{"font-size":"larger"}},"Bộ lọc:",-1)),at={class:"sorting-button-container"},lt={class:"d-flex search-container"},ct=s(()=>t("i",{class:"fas fa-search"},null,-1)),it=[ct],dt={class:"btn-group"},ut={type:"button",class:"btn btn-success dropdown-toggle","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{color:"white"}},rt=s(()=>t("i",{class:"fa-solid fa-book"}," :",-1)),ht=s(()=>t("i",{class:"fa-regular fa-rectangle-list"},null,-1)),_t=s(()=>t("i",{class:"fa-solid fa-vihara"},null,-1)),pt=s(()=>t("i",{class:"fa-solid fa-flag"},null,-1)),bt=s(()=>t("i",{class:"fa-solid fa-globe"},null,-1)),ft=s(()=>t("i",{class:"fa-solid fa-arrow-up-wide-short"},null,-1)),vt=s(()=>t("i",{class:"fa-solid fa-arrow-down-wide-short"},null,-1)),gt=s(()=>t("i",{class:"fa-solid fa-rotate-right"},null,-1)),mt=[gt],kt={key:0,class:"table table-success table-striped table-hover",style:{width:"80vw","box-shadow":"rgba(0, 0, 0, 0.24) 0px 3px 8px"}},Ct=s(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col"},"ID"),t("th",{scope:"col"},"Tên tour"),t("th",{scope:"col"},"Lịch trình"),t("th",{scope:"col"},"Danh mục"),t("th",{scope:"col"},"Khởi hành"),t("th",{scope:"col"},"Số ngày"),t("th",{scope:"col"},"Tour Hot"),t("th",{scope:"col"},"Phương tiện"),t("th",{scope:"col"}," Tạo lúc "),t("th",{scope:"col"}," Chỉnh sửa "),t("th",{scope:"col"}," Xóa")])],-1)),yt=["onClick"],Tt=["onClick"],wt=["onClick"],$t=["onClick"],xt=["onClick"],qt=["onClick"],St=["onClick"],It=["onClick"],Dt=["onClick"],Nt=["onClick"],Bt=s(()=>t("i",{class:"fa-solid fa-pen-to-square"},null,-1)),Lt=[Bt],Mt=["onClick"],Vt=s(()=>t("i",{class:"fa-solid fa-trash"},null,-1)),Ot=[Vt],At={__name:"TourManage",setup(u){const n=P();let h=_(1),b=_(),k=_();function c(){b.value=null,w.get("/admin/tour/"+v.value+"/"+C.value+"/"+h.value).then(a=>{console.log(a.data),b.value=a.data.rows,k.value=a.data.count/10+1}).catch(a=>{console.error(a)})}Q(()=>{c()});function I(){c()}function D(a){console.log(a);let l="Bạn có chắc chắn muốn xóa Tour "+a;confirm(l)==!0&&w.delete("/admin/tour/"+a).then(g=>{console.log(g),$.success("Đã xóa",{autoClose:2e3,theme:"dark",position:$.POSITION.BOTTOM_RIGHT}),c()}).catch(g=>{console.error(g)})}let f=_("Tất cả"),v=_(0);function N(){f.value="Tất cả",v.value=0,c()}function B(){f.value="Trung Quốc",v.value=1,c()}function L(){f.value="Trong nước",v.value=2,c()}function M(){f.value="Quốc tế",v.value=3,c()}let C=_("DESC");function V(){C.value="DESC",c()}function O(){C.value="ASC",c()}function A(a){const l={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return new Date(a).toLocaleString("vi-VN",l).replace(" tháng ","/").replace("lúc","").replace(", ","/")}return(a,l)=>{const g=E("v-pagination");return p(),m("div",ot,[t("button",{onClick:l[0]||(l[0]=o=>e(n).push("/admin/quan-li-tour/them-tour")),class:"btn btn-success add-btn",style:{"margin-bottom":"1rem"}},[r(" Thêm tour mới "),et]),t("div",st,[nt,t("div",at,[t("form",lt,[t("button",{class:"btn btn-outline-success",onClick:l[1]||(l[1]=T(()=>{},["prevent"]))},it),t("input",{onKeydown:l[2]||(l[2]=K(T(()=>{},["prevent"]),["enter"])),class:"form-control me-2 search-box",type:"search",placeholder:"Tìm kiếm theo tên","aria-label":"Search"},null,32)]),t("div",dt,[t("button",ut,[r(" Danh mục   "),rt,r(" "+i(e(f)),1)]),t("div",{class:"dropdown-menu"},[t("button",{class:"dropdown-item",onClick:N},[r("Tất cả  "),ht]),t("button",{class:"dropdown-item",onClick:B},[r("Trung Quốc  "),_t]),t("button",{class:"dropdown-item",onClick:L},[r("Trong nước   "),pt]),t("button",{class:"dropdown-item",onClick:M},[r("Quốc tế   "),bt])])]),t("button",{class:"sort-button btn btn-success",onClick:V},[r("Mới nhất   "),ft]),t("button",{class:"sort-button btn btn-success",onClick:O},[r("Cũ nhất   "),vt]),t("button",{class:"btn btn-success",onClick:c},mt)])]),e(b)?(p(),m("table",kt,[Ct,t("tbody",null,[(p(!0),m(R,null,z(e(b),o=>(p(),m("tr",{key:o,class:"each-tour-row"},[t("th",{scope:"row",onClick:d=>e(n).push({path:"/tourdetail",query:{id:o.id}})},i(o.id),9,yt),t("td",{onClick:d=>e(n).push({path:"/tourdetail",query:{id:o.id}})},i(o.title),9,Tt),t("td",{onClick:d=>e(n).push({path:"/tourdetail",query:{id:o.id}})},i(o.schedule),9,wt),t("td",{onClick:d=>e(n).push({path:"/tourdetail",query:{id:o.id}})},i(o.Category.name),9,$t),t("td",{onClick:d=>e(n).push({path:"/tourdetail",query:{id:o.id}})},i(o.departure),9,xt),t("td",{onClick:d=>e(n).push({path:"/tourdetail",query:{id:o.id}})},i(o.days),9,qt),t("td",{onClick:d=>e(n).push({path:"/tourdetail",query:{id:o.id}})},i(o.ishottour),9,St),t("td",{onClick:d=>e(n).push({path:"/tourdetail",query:{id:o.id}})},i(o.transportation),9,It),t("td",{onClick:d=>e(n).push({path:"/tourdetail",query:{id:o.id}})},i(A(o.createdAt)),9,Dt),t("td",null,[t("button",{onClick:d=>e(n).push({path:"/admin/quan-li-tour/chinh-sua-tour",query:{id:o.id}}),class:"edit-button"},Lt,8,Nt)]),t("td",null,[t("button",{class:"delete-button",onClick:d=>D(o.id)},Ot,8,Mt)])]))),128))])])):(p(),F(tt,{key:1})),G(g,{onClick:I,modelValue:e(h),"onUpdate:modelValue":l[3]||(l[3]=o=>H(h)?h.value=o:h=o),length:e(k),"total-visible":5,"prev-icon":"fa-solid fa-chevron-left","next-icon":"fa-solid fa-chevron-right"},null,8,["modelValue","length"]),t("div",null,i(e(h)),1)])}}},Qt=x(At,[["__scopeId","data-v-7ba1631e"]]);export{Qt as default};
