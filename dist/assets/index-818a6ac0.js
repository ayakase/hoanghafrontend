import{$ as C,a0 as O,b as A,r as l,v as w,C as E,a1 as V,e as x}from"./index-4d4eda78.js";function D(e){return C()?(O(e),!0):!1}function b(e){return typeof e=="function"?e():A(e)}const W=typeof window<"u"&&typeof document<"u",_=e=>e!=null,a=()=>{};function c(e){var t;const n=b(e);return(t=n==null?void 0:n.$el)!=null?t:n}const y=W?window:void 0;function $(){const e=l(!1);return V()&&x(()=>{e.value=!0}),e}function B(e){const t=$();return w(()=>(t.value,!!e()))}function N(e,t,n={}){const{root:u,rootMargin:i="0px",threshold:g=.1,window:f=y,immediate:p=!0}=n,d=B(()=>f&&"IntersectionObserver"in f),I=w(()=>{const r=b(e);return(Array.isArray(r)?r:[r]).map(c).filter(_)});let s=a;const o=l(p),M=d.value?E(()=>[I.value,c(u),o.value],([r,S])=>{if(s(),!o.value||!r.length)return;const m=new IntersectionObserver(t,{root:c(S),rootMargin:i,threshold:g});r.forEach(h=>h&&m.observe(h)),s=()=>{m.disconnect(),s=a}},{immediate:p,flush:"post"}):a,v=()=>{s(),M(),o.value=!1};return D(v),{isSupported:d,isActive:o,pause(){s(),o.value=!1},resume(){o.value=!0},stop:v}}function k(e,{window:t=y,scrollTarget:n}={}){const u=l(!1);return N(e,([{isIntersecting:i}])=>{u.value=i},{root:n,window:t,threshold:0}),u}export{k as u};
