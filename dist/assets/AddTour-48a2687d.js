import{_ as Y,r as a,A as se,f as B,e as ie,g as R,o as p,c as y,b as t,j as E,L as Z,z as H,a as e,k,w as q,F as N,i as A,h as Q,t as L,l as d,s as D,p as $,d as ee,C as ne,q as m,v as U,D as W,E as F,G as ce}from"./index-65a4f342.js";import{E as M}from"./Editor-620d11c7.js";import{u as de}from"./index-399a5e0d.js";const K=T=>($("data-v-994dabcf"),T=T(),ee(),T),re={class:"library-container"},ue={class:"images-section"},pe={style:{display:"flex","flex-direction":"row",gap:"2rem",width:"80%"}},me=K(()=>e("i",{class:"fa-solid fa-cloud-arrow-up"},null,-1)),he=K(()=>e("div",null,[e("p",null,"Chỉ nhận định dạng .png, .jpg, .jpeg, .gif, .webp. Mỗi lần tải lên không quá 10 files để đảm bảo đường truyền")],-1)),_e={style:{display:"flex",gap:"1rem",width:"100%","flex-wrap":"wrap"}},ge=["onClick"],ve={class:"d-flex align-center justify-center fill-height"},fe={class:"image-grid"},be={class:"d-flex align-center justify-center fill-height"},ye={class:"button-container"},ke={key:0},xe={key:1},we={class:"action-section"},Ve=K(()=>e("h3",null,"URL",-1)),Te=["value"],Ue=K(()=>e("button",{class:"btn btn-success",style:{"justify-self":"end","align-self":"end","font-size":"x-large"}},[e("i",{class:"fa-regular fa-copy"})],-1)),Ce={__name:"GalleryComponent",setup(T){const j=a(null),X=de(j);se(X,(r,c)=>{r===!0&&(C.value=!0,B.get("/admin/library/"+n.value).then(h=>{x.value=!1,console.log(h.data.next_cursor),_.value=_.value.concat(h.data.resources),n.value=h.data.next_cursor,w.value=h.data.total_count,f.value=_.value.length}).catch(h=>{console.log(h)}))});let _=a(),g=a([]),x=a(!1),C=a(!1),v=a([]);function I(r){if(v.value.includes(r)){let c=v.value.indexOf(r);c!==-1&&v.value.splice(c,1)}else v.value.push(r)}let w=a(),f=a();function O(){x.value=!0;const r=new FormData;for(const c of g.value)r.append("images",c);B.post("/admin/library",r,{headers:{"Content-Type":"multipart/form-data"}}).then(c=>{g.value=[],x.value=!1,D.success("Đã nhận thông tin",{autoClose:2e3,theme:"colored",position:D.POSITION.BOTTOM_RIGHT})}).then(()=>{B.get("/admin/library").then(c=>{_.value=c.data.resources,n.value=c.data.next_cursor,x.value=!1,w.value=c.data.total_count,f.value=_.value.length}).catch(c=>{console.log(c)})}).catch(c=>{console.error(c),x.value=!1,D.error("Lỗi "+c+" , kiểm tra lại định dạng của files",{autoClose:2e3,theme:"colored",position:D.POSITION.BOTTOM_RIGHT})})}let n=a(null);return ie(()=>{x.value=!0,B.get("/admin/library").then(r=>{x.value=!1,_.value=r.data.resources,n.value=r.data.next_cursor,w.value=r.data.total_count,f.value=_.value.length}).catch(r=>{console.log(r)})}),(r,c)=>{const h=R("v-chip"),z=R("v-file-input"),S=R("v-progress-circular"),G=R("v-img");return p(),y(N,null,[t(x)?(p(),E(Z,{key:0})):H("",!0),e("div",re,[e("div",ue,[e("div",pe,[k(z,{modelValue:t(g),"onUpdate:modelValue":c[0]||(c[0]=u=>d(g)?g.value=u:g=u),placeholder:"Upload your documents",label:"Ảnh",multiple:"","prepend-icon":"fa-solid fa-images",class:"image-upload"},{selection:q(({fileNames:u})=>[(p(!0),y(N,null,A(u,V=>(p(),E(h,{key:V,size:"small",label:"",color:"#006400",class:"me-2"},{default:q(()=>[Q(L(V),1)]),_:2},1024))),128))]),_:1},8,["modelValue"]),e("button",{class:"btn btn-success",style:{height:"90%"},onClick:O},[Q("Tải ảnh lên  "),me])]),he,e("div",_e,[(p(!0),y(N,null,A(t(v),u=>(p(),y("div",{key:u,class:"each-image",onClick:V=>I(u)},[k(G,{cover:"",class:"each-image",src:u},{placeholder:q(()=>[e("div",ve,[k(S,{color:"grey-lighten-4",indeterminate:""})])]),_:2},1032,["src"])],8,ge))),128))]),e("p",null,[e("b",null,"Đang hiển thị "+L(t(f))+" trong số "+L(t(w))+" ảnh",1)]),e("div",fe,[(p(!0),y(N,null,A(t(_),u=>(p(),y("div",{key:u,class:"each-image"},[k(G,{cover:"",class:"each-image",src:u.url,onClick:V=>I(u.url)},{placeholder:q(()=>[e("div",be,[k(S,{color:"grey-lighten-4",indeterminate:""})])]),_:2},1032,["src","onClick"])]))),128))]),e("div",ye,[e("div",{ref_key:"target",ref:j,style:{"margin-top":"10rem"}},[t(C)&&t(n)?(p(),y("h4",ke," Load thêm...")):(p(),y("h4",xe,"Không còn ảnh"))],512)])]),e("div",we,[Ve,e("textarea",{readonly:"",name:"",id:"",rows:"8",placeholder:"",value:t(v)},`
            `,8,Te),Ue])])],64)}}},Ie=Y(Ce,[["__scopeId","data-v-994dabcf"]]);const s=T=>($("data-v-9678d803"),T=T(),ee(),T),Oe={class:"add-container"},Se=s(()=>e("h2",{style:{"text-align":"center","padding-top":"2rem"}},"Thêm Tour mới",-1)),Ge={class:"mb-3"},De=s(()=>e("label",{for:"",class:"form-label"},"Tiêu đề tour",-1)),ze={class:"mb-3 thumbnail"},Le=s(()=>e("label",{for:"formFile",class:"form-label"},"Hình thu nhỏ",-1)),je={style:{width:"20rem","margin-top":"1rem"}},Me=["src"],Ne={class:"mb-3"},Pe=s(()=>e("label",{for:"",class:"form-label"},"Tik Tok Video ID",-1)),Be={class:"mb-3"},Re=s(()=>e("label",{for:"",class:"form-label"},"Lịch Trình",-1)),qe={class:"category-type-from"},Fe={class:"mb-3 w-25"},He=s(()=>e("label",{for:"",class:"form-label"},"Danh mục ",-1)),Ae=s(()=>e("option",{value:"1"},"Du lịch Trung Quốc",-1)),Ee=s(()=>e("option",{value:"2"},"Du lịch trong nước",-1)),Ke=s(()=>e("option",{value:"3"},"Du lịch quốc tế",-1)),Xe=[Ae,Ee,Ke],Qe={class:"mb-3 w-25"},Je=s(()=>e("label",{for:"",class:"form-label"},"Loại tour ",-1)),We=s(()=>e("option",{value:"Ghép đoàn",selected:""},"Ghép đoàn",-1)),Ye=s(()=>e("option",{value:"Đi riêng"},"Đi riêng",-1)),Ze=s(()=>e("option",{value:"Ghép đoàn / Đi riêng"},"Ghép đoàn/đi riêng",-1)),$e=[We,Ye,Ze],el={class:"mb-3 w-25"},ll=s(()=>e("label",{for:"",class:"form-label"},"Khởi hành từ",-1)),ol={for:"",class:"form-label"},tl={style:{display:"flex","flex-direction":"row","align-items":"center"}},al={class:"w-25",style:{"margin-right":"5rem"}},sl={style:{display:"flex","flex-direction":"row","align-items":"center"}},il={key:0,style:{color:"orangered"},class:"fa-solid fa-fire fa-bounce"},nl={class:"mb-3 w-50"},cl={for:"",class:"form-label"},dl={class:"form-check"},rl=s(()=>e("label",{class:"form-check-label",for:"plane-check"}," Máy bay ",-1)),ul={class:"form-check"},pl=s(()=>e("label",{class:"form-check-label",for:"car-check"}," Ô tô ",-1)),ml={class:"form-check"},hl=s(()=>e("label",{class:"form-check-label",for:"train-check"}," Tàu hỏa ",-1)),_l={class:"form-check"},gl=s(()=>e("label",{class:"form-check-label",for:"motor-check"}," Xe máy ",-1)),vl={class:"recommend-container",style:{width:"60%",display:"flex","flex-direction":"row"}},fl=s(()=>e("label",{for:"customRange2",class:"form-label",style:{width:"10rem"}},"Mức độ đề xuất:",-1)),bl={class:"age-price"},yl={class:"mb-3 w-25"},kl=s(()=>e("label",{for:"",class:"form-label"},"Giá Người lớn (VNĐ)",-1)),xl={class:"mb-3 w-25"},wl=s(()=>e("label",{for:"",class:"form-label"},"Giá trẻ em(Từ 5-11 tuổi) (VNĐ)",-1)),Vl={class:"mb-3 w-25"},Tl=s(()=>e("label",{for:"",class:"form-label"},"Giá trẻ em (Dưới 5 tuổi) (VNĐ)",-1)),Ul={class:"accordion",id:""},Cl={class:"accordion-item"},Il=s(()=>e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-special","aria-expanded":"true","aria-controls":"accordion-special"}," Điểm khác biệt ")],-1)),Ol={id:"accordion-special",class:"accordion-collapse collapse show"},Sl={class:"accordion-item"},Gl=s(()=>e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-bonus","aria-expanded":"false","aria-controls":"accordion-bonus"}," Dịch vụ đi kèm ")],-1)),Dl={id:"accordion-bonus",class:"accordion-collapse collapse"},zl={class:"accordion-item"},Ll=s(()=>e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-visa","aria-expanded":"false","aria-controls":"accordion-visa"}," Visa ")],-1)),jl={id:"accordion-visa",class:"accordion-collapse collapse"},Ml={class:"accordion-item"},Nl=s(()=>e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-detail","aria-expanded":"false","aria-controls":"accordion-detail"}," Lịch trình chi tiết ")],-1)),Pl={id:"accordion-detail",class:"accordion-collapse collapse"},Bl={class:"accordion-item"},Rl=s(()=>e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-price-service","aria-expanded":"false","aria-controls":"accordion-price-service"}," Bảng giá và dịch vụ ")],-1)),ql={id:"accordion-price-service",class:"accordion-collapse collapse"},Fl={class:"accordion-item"},Hl=s(()=>e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-guide","aria-expanded":"false","aria-controls":"accordion-guide"}," Lưu ý và hướng dẫn ")],-1)),Al={id:"accordion-guide",class:"accordion-collapse collapse"},El=s(()=>e("div",{class:"mt-10 mb-2"},null,-1)),Kl={__name:"AddTour",setup(T){let j=a();function X(){j.value=!j.value}let _=a(!1),g=a(""),x=a(null),C=a(""),v=a(),I=a(""),w=a(""),f=a(1),O=a(!1),n=a([]),r=a(),c=a(),h=a(),z=a(),S=a(),G=a(),u=a(),V=a(),P=a(),b=a(0),le=ne(()=>b.value>=0&&b.value<=3?"red":b.value>3&&b.value<=6?"orange":b.value>6&&b.value<=8?"blue":"green");const J=a();function oe(i){console.log(i),i.target.files.length&&(J.value=URL.createObjectURL(i.target.files[0])),x.value=i.target.files[0]}function te(){_.value=!0;const i=new FormData;i.append("tourTitle",g.value),i.append("tourThumbnail",x.value),i.append("tourSchedule",C.value),i.append("tourCategory",v.value),i.append("tourType",I.value),i.append("tourFrom",w.value),i.append("tourLength",f.value),i.append("isHot",O.value),i.append("recommend",b.value),i.append("tourTransport",n.value.toString()),i.append("adultPrice",r.value),i.append("youngPrice",c.value),i.append("childPrice",h.value),i.append("tourSpecial",z.value),i.append("tourBonus",S.value),i.append("tourVisa",G.value),i.append("tourDetail",u.value),i.append("tourPriceService",V.value),i.append("tourGuide",P.value),B.post("/admin/tour",i,{headers:{"Content-Type":"multipart/form-data"}}).then(o=>{console.log(o.data),_.value=!1,D.success("Đã nhận thông tin",{autoClose:2e3,theme:"colored",position:D.POSITION.BOTTOM_RIGHT})}).catch(o=>{console.error(o),_.value=!1,D.error("Lỗi "+o+" , đảm bảo là bạn đã điền đủ thông tin, hãy đợi 1p rồi submit lại hoặc là reload lại trang",{autoClose:2e3,theme:"colored",position:D.POSITION.BOTTOM_RIGHT})})}return(i,o)=>{const ae=R("v-switch");return p(),y(N,null,[t(_)?(p(),E(Z,{key:0})):H("",!0),e("div",Oe,[Se,e("div",Ge,[De,m(e("input",{type:"text",class:"form-control",id:"",placeholder:"","onUpdate:modelValue":o[0]||(o[0]=l=>d(g)?g.value=l:g=l)},null,512),[[U,t(g)]])]),e("div",ze,[Le,e("input",{class:"form-control",accept:"image/*",type:"file",id:"formFile",onChange:oe},null,32),e("div",je,[e("img",{src:J.value,alt:"",style:{width:"100%"}},null,8,Me)])]),e("button",{style:{color:"white","margin-bottom":"2rem"},class:"btn btn-success",onClick:X},"Tải ảnh lên"),t(j)?(p(),E(Ie,{key:0})):H("",!0),e("div",Ne,[Pe,m(e("input",{type:"text",class:"form-control",id:"",placeholder:"","onUpdate:modelValue":o[1]||(o[1]=l=>i.tiktokId=l)},null,512),[[U,i.tiktokId]])]),e("div",Be,[Re,m(e("input",{type:"text",class:"form-control",id:"",placeholder:"","onUpdate:modelValue":o[2]||(o[2]=l=>d(C)?C.value=l:C=l)},null,512),[[U,t(C)]])]),e("div",qe,[e("div",Fe,[He,m(e("select",{class:"form-select mb-3","aria-label":"Smal select example","onUpdate:modelValue":o[3]||(o[3]=l=>d(v)?v.value=l:v=l)},Xe,512),[[W,t(v)]])]),e("div",Qe,[Je,m(e("select",{class:"form-select mb-3","aria-label":"Small select example","onUpdate:modelValue":o[4]||(o[4]=l=>d(I)?I.value=l:I=l)},$e,512),[[W,t(I)]])]),e("div",el,[ll,m(e("input",{type:"text",class:"form-control",id:"",placeholder:"","onUpdate:modelValue":o[5]||(o[5]=l=>d(w)?w.value=l:w=l)},null,512),[[U,t(w)]])])]),e("label",ol,"Thời gian: "+L(t(f))+"N"+L(t(f)-1)+"Đ",1),e("div",tl,[e("div",al,[m(e("input",{type:"number",class:"form-control",id:"",placeholder:"","onUpdate:modelValue":o[6]||(o[6]=l=>d(f)?f.value=l:f=l)},null,512),[[U,t(f)]])]),e("div",sl,[k(ae,{modelValue:t(O),"onUpdate:modelValue":o[7]||(o[7]=l=>d(O)?O.value=l:O=l),label:"Tour hot",color:"orange-darken-3",style:{"margin-right":"1rem"},"hide-details":""},null,8,["modelValue"]),t(O)?(p(),y("i",il)):H("",!0)])]),e("div",nl,[e("label",cl,[Q("Di chuyển: "),(p(!0),y(N,null,A(t(n),l=>(p(),y("span",{key:l},L(l)+", ",1))),128))]),e("div",dl,[m(e("input",{class:"form-check-input",type:"checkbox",value:"Máy bay",id:"plane-check","onUpdate:modelValue":o[8]||(o[8]=l=>d(n)?n.value=l:n=l)},null,512),[[F,t(n)]]),rl]),e("div",ul,[m(e("input",{class:"form-check-input",type:"checkbox",value:"Ô tô",id:"car-check","onUpdate:modelValue":o[9]||(o[9]=l=>d(n)?n.value=l:n=l)},null,512),[[F,t(n)]]),pl]),e("div",ml,[m(e("input",{class:"form-check-input",type:"checkbox",value:"Tàu hỏa",id:"train-check","onUpdate:modelValue":o[10]||(o[10]=l=>d(n)?n.value=l:n=l)},null,512),[[F,t(n)]]),hl]),e("div",_l,[m(e("input",{class:"form-check-input",type:"checkbox",value:"Xe máy",id:"train-check","onUpdate:modelValue":o[11]||(o[11]=l=>d(n)?n.value=l:n=l)},null,512),[[F,t(n)]]),gl])]),e("div",vl,[fl,e("p",{style:ce([{width:"2rem","margin-right":"1rem",color:"red","font-weight":"bold"},{color:t(le)}])},L(t(b)),5),m(e("input",{type:"range",class:"form-range",min:"0",max:"10",id:"customRange2",step:"0.5","onUpdate:modelValue":o[12]||(o[12]=l=>d(b)?b.value=l:b=l)},null,512),[[U,t(b)]])]),e("div",bl,[e("div",yl,[kl,m(e("input",{type:"number",class:"form-control",id:"",placeholder:"","onUpdate:modelValue":o[13]||(o[13]=l=>d(r)?r.value=l:r=l)},null,512),[[U,t(r)]])]),e("div",xl,[wl,m(e("input",{type:"number",class:"form-control",id:"",placeholder:"","onUpdate:modelValue":o[14]||(o[14]=l=>d(c)?c.value=l:c=l)},null,512),[[U,t(c)]])]),e("div",Vl,[Tl,m(e("input",{type:"number",class:"form-control",id:"",placeholder:"","onUpdate:modelValue":o[15]||(o[15]=l=>d(h)?h.value=l:h=l)},null,512),[[U,t(h)]])])]),e("div",Ul,[e("div",Cl,[Il,e("div",Ol,[k(t(M),{modelValue:t(z),"onUpdate:modelValue":o[16]||(o[16]=l=>d(z)?z.value=l:z=l),"api-key":"8gzqmdnsiplu2pd33s0doas4xo8735024fznwlgttd4ldri6",init:{plugins:"  lists advlist link image table code help wordcount autosave emoticons",toolbar:" forecolor backcolor | undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | emoticons"}},null,8,["modelValue"])])]),e("div",Sl,[Gl,e("div",Dl,[k(t(M),{modelValue:t(S),"onUpdate:modelValue":o[17]||(o[17]=l=>d(S)?S.value=l:S=l),"api-key":"8gzqmdnsiplu2pd33s0doas4xo8735024fznwlgttd4ldri6",init:{plugins:"  lists advlist link image table code help wordcount autosave emoticons",toolbar:" forecolor backcolor | undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | emoticons"}},null,8,["modelValue"])])]),e("div",zl,[Ll,e("div",jl,[k(t(M),{modelValue:t(G),"onUpdate:modelValue":o[18]||(o[18]=l=>d(G)?G.value=l:G=l),"api-key":"8gzqmdnsiplu2pd33s0doas4xo8735024fznwlgttd4ldri6",init:{plugins:"  lists advlist link image table code help wordcount autosave emoticons",toolbar:" forecolor backcolor | undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | emoticons"}},null,8,["modelValue"])])]),e("div",Ml,[Nl,e("div",Pl,[k(t(M),{modelValue:t(u),"onUpdate:modelValue":o[19]||(o[19]=l=>d(u)?u.value=l:u=l),"api-key":"8gzqmdnsiplu2pd33s0doas4xo8735024fznwlgttd4ldri6",init:{plugins:"  lists advlist link image table code help wordcount autosave emoticons",toolbar:" forecolor backcolor | undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | emoticons"}},null,8,["modelValue"])])]),e("div",Bl,[Rl,e("div",ql,[k(t(M),{modelValue:t(V),"onUpdate:modelValue":o[20]||(o[20]=l=>d(V)?V.value=l:V=l),"api-key":"8gzqmdnsiplu2pd33s0doas4xo8735024fznwlgttd4ldri6",init:{plugins:" lists advlist link image table code help wordcount autosave emoticons",toolbar:" forecolor backcolor | undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | emoticons"}},null,8,["modelValue"])])]),e("div",Fl,[Hl,e("div",Al,[k(t(M),{modelValue:t(P),"onUpdate:modelValue":o[21]||(o[21]=l=>d(P)?P.value=l:P=l),"api-key":"8gzqmdnsiplu2pd33s0doas4xo8735024fznwlgttd4ldri6",init:{plugins:"  lists advlist link image table code help wordcount autosave emoticons",toolbar:" forecolor backcolor | undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | emoticons"}},null,8,["modelValue"])])])]),El,e("div",{onClick:te,class:"btn btn-success",style:{"margin-top":"1rem",right:"0",float:"right"}}," Add Tour ")])],64)}}},Wl=Y(Kl,[["__scopeId","data-v-9678d803"]]);export{Wl as default};
