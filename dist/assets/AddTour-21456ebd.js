import{_ as $,r as a,C as ee,f as q,e as le,g as F,o as m,c as y,b as t,k as X,L as oe,i as A,a as e,n as k,w as H,F as N,h as K,j as W,t as L,l as d,z,p as te,d as ae,v as re,x as p,y as T,E as Z,G as E,H as ue}from"./index-4d4eda78.js";import{s as pe}from"./slugify-0102db5e.js";import{E as M}from"./Editor-3faf62fe.js";import{u as me}from"./index-818a6ac0.js";const Q=U=>(te("data-v-994dabcf"),U=U(),ae(),U),he={class:"library-container"},_e={class:"images-section"},ge={style:{display:"flex","flex-direction":"row",gap:"2rem",width:"80%"}},ve=Q(()=>e("i",{class:"fa-solid fa-cloud-arrow-up"},null,-1)),fe=Q(()=>e("div",null,[e("p",null,"Chỉ nhận định dạng .png, .jpg, .jpeg, .gif, .webp. Mỗi lần tải lên không quá 10 files để đảm bảo đường truyền")],-1)),be={style:{display:"flex",gap:"1rem",width:"100%","flex-wrap":"wrap"}},ye=["onClick"],ke={class:"d-flex align-center justify-center fill-height"},xe={class:"image-grid"},we={class:"d-flex align-center justify-center fill-height"},Ve={class:"button-container"},Te={key:0},Ue={key:1},Ce={class:"action-section"},Se=Q(()=>e("h3",null,"URL",-1)),Oe=["value"],Ge=Q(()=>e("button",{class:"btn btn-success",style:{"justify-self":"end","align-self":"end","font-size":"x-large"}},[e("i",{class:"fa-regular fa-copy"})],-1)),Ie={__name:"GalleryComponent",setup(U){const P=a(null),J=me(P);ee(J,(r,c)=>{r===!0&&(C.value=!0,q.get("/admin/library/"+n.value).then(h=>{x.value=!1,console.log(h.data.next_cursor),_.value=_.value.concat(h.data.resources),n.value=h.data.next_cursor,w.value=h.data.total_count,f.value=_.value.length}).catch(h=>{console.log(h)}))});let _=a(),g=a([]),x=a(!1),C=a(!1),v=a([]);function S(r){if(v.value.includes(r)){let c=v.value.indexOf(r);c!==-1&&v.value.splice(c,1)}else v.value.push(r)}let w=a(),f=a();function O(){x.value=!0;const r=new FormData;for(const c of g.value)r.append("images",c);q.post("/admin/library",r,{headers:{"Content-Type":"multipart/form-data"}}).then(c=>{g.value=[],x.value=!1,z.success("Đã nhận thông tin",{autoClose:2e3,theme:"colored",position:z.POSITION.BOTTOM_RIGHT})}).then(()=>{q.get("/admin/library").then(c=>{_.value=c.data.resources,n.value=c.data.next_cursor,x.value=!1,w.value=c.data.total_count,f.value=_.value.length}).catch(c=>{console.log(c)})}).catch(c=>{console.error(c),x.value=!1,z.error("Lỗi "+c+" , kiểm tra lại định dạng của files",{autoClose:2e3,theme:"colored",position:z.POSITION.BOTTOM_RIGHT})})}let n=a(null);return le(()=>{x.value=!0,q.get("/admin/library").then(r=>{x.value=!1,_.value=r.data.resources,n.value=r.data.next_cursor,w.value=r.data.total_count,f.value=_.value.length}).catch(r=>{console.log(r)})}),(r,c)=>{const h=F("v-chip"),D=F("v-file-input"),G=F("v-progress-circular"),I=F("v-img");return m(),y(N,null,[t(x)?(m(),X(oe,{key:0})):A("",!0),e("div",he,[e("div",_e,[e("div",ge,[k(D,{modelValue:t(g),"onUpdate:modelValue":c[0]||(c[0]=u=>d(g)?g.value=u:g=u),placeholder:"Upload your documents",label:"Ảnh",multiple:"","prepend-icon":"fa-solid fa-images",class:"image-upload"},{selection:H(({fileNames:u})=>[(m(!0),y(N,null,K(u,V=>(m(),X(h,{key:V,size:"small",label:"",color:"#006400",class:"me-2"},{default:H(()=>[W(L(V),1)]),_:2},1024))),128))]),_:1},8,["modelValue"]),e("button",{class:"btn btn-success",style:{height:"90%"},onClick:O},[W("Tải ảnh lên  "),ve])]),fe,e("div",be,[(m(!0),y(N,null,K(t(v),u=>(m(),y("div",{key:u,class:"each-image",onClick:V=>S(u)},[k(I,{cover:"",class:"each-image",src:u},{placeholder:H(()=>[e("div",ke,[k(G,{color:"grey-lighten-4",indeterminate:""})])]),_:2},1032,["src"])],8,ye))),128))]),e("p",null,[e("b",null,"Đang hiển thị "+L(t(f))+" trong số "+L(t(w))+" ảnh",1)]),e("div",xe,[(m(!0),y(N,null,K(t(_),u=>(m(),y("div",{key:u,class:"each-image"},[k(I,{cover:"",class:"each-image",src:u.url,onClick:V=>S(u.url)},{placeholder:H(()=>[e("div",we,[k(G,{color:"grey-lighten-4",indeterminate:""})])]),_:2},1032,["src","onClick"])]))),128))]),e("div",Ve,[e("div",{ref_key:"target",ref:P,style:{"margin-top":"10rem"}},[t(C)&&t(n)?(m(),y("h4",Te," Load thêm...")):(m(),y("h4",Ue,"Không còn ảnh"))],512)])]),e("div",Ce,[Se,e("textarea",{readonly:"",name:"",id:"",rows:"8",placeholder:"",value:t(v)},`
            `,8,Oe),Ge])])],64)}}},ze=$(Ie,[["__scopeId","data-v-994dabcf"]]);const i=U=>(te("data-v-2d38014a"),U=U(),ae(),U),De={class:"add-container"},Le=i(()=>e("h2",{style:{"text-align":"center","padding-top":"2rem"}},"Thêm Tour mới",-1)),Pe={class:"mb-3"},je=i(()=>e("label",{for:"",class:"form-label"},"Tiêu đề tour",-1)),Me={class:"mb-3 thumbnail"},Ne=i(()=>e("label",{for:"formFile",class:"form-label"},"Hình thu nhỏ",-1)),Be={style:{width:"20rem","margin-top":"1rem"}},Re=["src"],qe=i(()=>e("div",{class:"form-label"},"Thư viện ảnh",-1)),Fe={class:"mb-3"},He=i(()=>e("label",{for:"custom-slug",class:"form-label"},"Custom slug",-1)),Ee={class:"input-group mb-3"},Ae=i(()=>e("span",{class:"input-group-text",id:"basic-addon1"},"/",-1)),Ke={class:"mb-3"},Xe=i(()=>e("label",{for:"",class:"form-label"},"Lịch Trình",-1)),Qe={class:"category-type-from"},Je={class:"mb-3 w-25"},We=i(()=>e("label",{for:"",class:"form-label"},"Danh mục ",-1)),Ye=i(()=>e("option",{value:"1"},"Du lịch Trung Quốc",-1)),Ze=i(()=>e("option",{value:"2"},"Du lịch trong nước",-1)),$e=i(()=>e("option",{value:"3"},"Du lịch quốc tế",-1)),el=[Ye,Ze,$e],ll={class:"mb-3 w-25"},ol=i(()=>e("label",{for:"",class:"form-label"},"Loại tour ",-1)),tl=i(()=>e("option",{value:"Ghép đoàn",selected:""},"Ghép đoàn",-1)),al=i(()=>e("option",{value:"Đi riêng"},"Đi riêng",-1)),sl=i(()=>e("option",{value:"Ghép đoàn / Đi riêng"},"Ghép đoàn/đi riêng",-1)),il=[tl,al,sl],nl={class:"mb-3 w-25"},cl=i(()=>e("label",{for:"",class:"form-label"},"Khởi hành từ",-1)),dl={for:"",class:"form-label"},rl={style:{display:"flex","flex-direction":"row","align-items":"center"}},ul={class:"w-25",style:{"margin-right":"5rem"}},pl={style:{display:"flex","flex-direction":"row","align-items":"center"}},ml={key:0,style:{color:"orangered"},class:"fa-solid fa-fire fa-bounce"},hl={class:"mb-3 w-50"},_l={for:"",class:"form-label"},gl={class:"form-check"},vl=i(()=>e("label",{class:"form-check-label",for:"plane-check"}," Máy bay ",-1)),fl={class:"form-check"},bl=i(()=>e("label",{class:"form-check-label",for:"car-check"}," Ô tô ",-1)),yl={class:"form-check"},kl=i(()=>e("label",{class:"form-check-label",for:"train-check"}," Tàu hỏa ",-1)),xl={class:"form-check"},wl=i(()=>e("label",{class:"form-check-label",for:"motor-check"}," Xe máy ",-1)),Vl={class:"recommend-container",style:{width:"60%",display:"flex","flex-direction":"row"}},Tl=i(()=>e("label",{for:"customRange2",class:"form-label",style:{width:"10rem"}},"Mức độ đề xuất:",-1)),Ul={class:"age-price"},Cl={class:"mb-3 w-20"},Sl=i(()=>e("label",{for:"",class:"form-label"},"Giá Người lớn (Trên 12 tuổi) (VNĐ)",-1)),Ol={class:"mb-3 w-20"},Gl=i(()=>e("label",{for:"",class:"form-label"},"Giá trẻ em(Từ 6 - 10 tuổi) (VNĐ)",-1)),Il={class:"mb-3 w-20"},zl=i(()=>e("label",{for:"",class:"form-label"},"Giá trẻ em (Từ 2 - 5 tuổi) (VNĐ)",-1)),Dl={class:"mb-3 w-20"},Ll=i(()=>e("label",{for:"",class:"form-label"},"Giá trẻ em (Dưới 2 tuổi) (VNĐ)",-1)),Pl={class:"accordion",id:""},jl={class:"accordion-item"},Ml=i(()=>e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-special","aria-expanded":"true","aria-controls":"accordion-special"}," Điểm khác biệt ")],-1)),Nl={id:"accordion-special",class:"accordion-collapse collapse show"},Bl={class:"accordion-item"},Rl=i(()=>e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-bonus","aria-expanded":"false","aria-controls":"accordion-bonus"}," Dịch vụ đi kèm ")],-1)),ql={id:"accordion-bonus",class:"accordion-collapse collapse"},Fl={class:"accordion-item"},Hl=i(()=>e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-visa","aria-expanded":"false","aria-controls":"accordion-visa"}," Visa ")],-1)),El={id:"accordion-visa",class:"accordion-collapse collapse"},Al={class:"accordion-item"},Kl=i(()=>e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-detail","aria-expanded":"false","aria-controls":"accordion-detail"}," Lịch trình chi tiết ")],-1)),Xl={id:"accordion-detail",class:"accordion-collapse collapse"},Ql={class:"accordion-item"},Jl=i(()=>e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-price-service","aria-expanded":"false","aria-controls":"accordion-price-service"}," Bảng giá và dịch vụ ")],-1)),Wl={id:"accordion-price-service",class:"accordion-collapse collapse"},Yl={class:"accordion-item"},Zl=i(()=>e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-guide","aria-expanded":"false","aria-controls":"accordion-guide"}," Lưu ý và hướng dẫn ")],-1)),$l={id:"accordion-guide",class:"accordion-collapse collapse"},eo=i(()=>e("div",{class:"mt-10 mb-2"},null,-1)),lo={__name:"AddTour",setup(U){let P=a();function J(){P.value=!P.value}let _=a(!1),g=a(""),x=a(null),C=a(""),v=a(),S=a(""),w=a(""),f=a(1),O=a(!1),n=a([]),r=a(),c=a(),h=a(),D=a(),G=a(),I=a(),u=a(),V=a(),B=a(),R=a(),b=a(0);function se(s){return pe(s,{locale:"vi",lower:!0})}let j=a();ee(g,s=>{j.value=se(s)}),le(()=>{});let ie=re(()=>b.value>=0&&b.value<=3?"red":b.value>3&&b.value<=6?"orange":b.value>6&&b.value<=8?"blue":"green");const Y=a();function ne(s){console.log(s),s.target.files.length&&(Y.value=URL.createObjectURL(s.target.files[0])),x.value=s.target.files[0]}function ce(){_.value=!0;const s=new FormData;s.append("tourTitle",g.value),s.append("tourThumbnail",x.value),s.append("slug",j.value),s.append("tourSchedule",C.value),s.append("tourCategory",v.value),s.append("tourType",S.value),s.append("tourFrom",w.value),s.append("tourLength",f.value),s.append("isHot",O.value),s.append("recommend",b.value),s.append("tourTransport",n.value.toString()),s.append("adultPrice",r.value),s.append("teenagerPrice",c.value),s.append("childPrice",h.value),s.append("infantPrice",D.value),s.append("tourSpecial",G.value),s.append("tourBonus",I.value),s.append("tourVisa",u.value),s.append("tourDetail",V.value),s.append("tourPriceService",B.value),s.append("tourGuide",R.value),q.post("/admin/tour",s,{headers:{"Content-Type":"multipart/form-data"}}).then(o=>{console.log(o.data),_.value=!1,z.success("Đã nhận thông tin",{autoClose:2e3,theme:"colored",position:z.POSITION.BOTTOM_RIGHT})}).catch(o=>{console.error(o),_.value=!1,z.error("Lỗi "+o+" , đảm bảo là bạn đã điền đủ thông tin, hãy đợi 1p rồi submit lại hoặc là reload lại trang",{autoClose:2e3,theme:"colored",position:z.POSITION.BOTTOM_RIGHT})})}return(s,o)=>{const de=F("v-switch");return m(),y(N,null,[t(_)?(m(),X(oe,{key:0})):A("",!0),e("div",De,[Le,e("div",Pe,[je,p(e("input",{type:"text",class:"form-control",id:"",placeholder:"","onUpdate:modelValue":o[0]||(o[0]=l=>d(g)?g.value=l:g=l)},null,512),[[T,t(g)]])]),e("div",Me,[Ne,e("input",{class:"form-control",accept:"image/*",type:"file",id:"formFile",onChange:ne},null,32),e("div",Be,[e("img",{src:Y.value,alt:"",style:{width:"100%"}},null,8,Re)])]),qe,e("button",{style:{color:"white","margin-bottom":"2rem"},class:"btn btn-success",onClick:J},"Tải ảnh lên"),t(P)?(m(),X(ze,{key:0})):A("",!0),e("div",Fe,[He,e("div",Ee,[Ae,p(e("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>d(j)?j.value=l:j=l),type:"text",class:"form-control",placeholder:"vi-du",id:"custom-slug"},null,512),[[T,t(j)]])])]),e("div",Ke,[Xe,p(e("input",{type:"text",class:"form-control",id:"",placeholder:"","onUpdate:modelValue":o[2]||(o[2]=l=>d(C)?C.value=l:C=l)},null,512),[[T,t(C)]])]),e("div",Qe,[e("div",Je,[We,p(e("select",{class:"form-select mb-3","aria-label":"Smal select example","onUpdate:modelValue":o[3]||(o[3]=l=>d(v)?v.value=l:v=l)},el,512),[[Z,t(v)]])]),e("div",ll,[ol,p(e("select",{class:"form-select mb-3","aria-label":"Small select example","onUpdate:modelValue":o[4]||(o[4]=l=>d(S)?S.value=l:S=l)},il,512),[[Z,t(S)]])]),e("div",nl,[cl,p(e("input",{type:"text",class:"form-control",id:"",placeholder:"","onUpdate:modelValue":o[5]||(o[5]=l=>d(w)?w.value=l:w=l)},null,512),[[T,t(w)]])])]),e("label",dl,"Thời gian: "+L(t(f))+"N"+L(t(f)-1)+"Đ",1),e("div",rl,[e("div",ul,[p(e("input",{type:"number",class:"form-control",id:"",placeholder:"","onUpdate:modelValue":o[6]||(o[6]=l=>d(f)?f.value=l:f=l)},null,512),[[T,t(f)]])]),e("div",pl,[k(de,{modelValue:t(O),"onUpdate:modelValue":o[7]||(o[7]=l=>d(O)?O.value=l:O=l),label:"Tour hot",color:"orange-darken-3",style:{"margin-right":"1rem"},"hide-details":""},null,8,["modelValue"]),t(O)?(m(),y("i",ml)):A("",!0)])]),e("div",hl,[e("label",_l,[W("Di chuyển: "),(m(!0),y(N,null,K(t(n),l=>(m(),y("span",{key:l},L(l)+", ",1))),128))]),e("div",gl,[p(e("input",{class:"form-check-input",type:"checkbox",value:"Máy bay",id:"plane-check","onUpdate:modelValue":o[8]||(o[8]=l=>d(n)?n.value=l:n=l)},null,512),[[E,t(n)]]),vl]),e("div",fl,[p(e("input",{class:"form-check-input",type:"checkbox",value:"Ô tô",id:"car-check","onUpdate:modelValue":o[9]||(o[9]=l=>d(n)?n.value=l:n=l)},null,512),[[E,t(n)]]),bl]),e("div",yl,[p(e("input",{class:"form-check-input",type:"checkbox",value:"Tàu hỏa",id:"train-check","onUpdate:modelValue":o[10]||(o[10]=l=>d(n)?n.value=l:n=l)},null,512),[[E,t(n)]]),kl]),e("div",xl,[p(e("input",{class:"form-check-input",type:"checkbox",value:"Xe máy",id:"train-check","onUpdate:modelValue":o[11]||(o[11]=l=>d(n)?n.value=l:n=l)},null,512),[[E,t(n)]]),wl])]),e("div",Vl,[Tl,e("p",{style:ue([{width:"2rem","margin-right":"1rem",color:"red","font-weight":"bold"},{color:t(ie)}])},L(t(b)),5),p(e("input",{type:"range",class:"form-range",min:"0",max:"10",id:"customRange2",step:"0.5","onUpdate:modelValue":o[12]||(o[12]=l=>d(b)?b.value=l:b=l)},null,512),[[T,t(b)]])]),e("div",Ul,[e("div",Cl,[Sl,p(e("input",{type:"number",class:"form-control",id:"",placeholder:"","onUpdate:modelValue":o[13]||(o[13]=l=>d(r)?r.value=l:r=l)},null,512),[[T,t(r)]])]),e("div",Ol,[Gl,p(e("input",{type:"number",class:"form-control",id:"",placeholder:"","onUpdate:modelValue":o[14]||(o[14]=l=>d(c)?c.value=l:c=l)},null,512),[[T,t(c)]])]),e("div",Il,[zl,p(e("input",{type:"number",class:"form-control",id:"",placeholder:"","onUpdate:modelValue":o[15]||(o[15]=l=>d(h)?h.value=l:h=l)},null,512),[[T,t(h)]])]),e("div",Dl,[Ll,p(e("input",{type:"number",class:"form-control",id:"",placeholder:"","onUpdate:modelValue":o[16]||(o[16]=l=>d(D)?D.value=l:D=l)},null,512),[[T,t(D)]])])]),e("div",Pl,[e("div",jl,[Ml,e("div",Nl,[k(t(M),{modelValue:t(G),"onUpdate:modelValue":o[17]||(o[17]=l=>d(G)?G.value=l:G=l),"api-key":"8gzqmdnsiplu2pd33s0doas4xo8735024fznwlgttd4ldri6",init:{plugins:"  lists advlist link image table code help wordcount autosave emoticons",toolbar:" forecolor backcolor | undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | emoticons"}},null,8,["modelValue"])])]),e("div",Bl,[Rl,e("div",ql,[k(t(M),{modelValue:t(I),"onUpdate:modelValue":o[18]||(o[18]=l=>d(I)?I.value=l:I=l),"api-key":"8gzqmdnsiplu2pd33s0doas4xo8735024fznwlgttd4ldri6",init:{plugins:"  lists advlist link image table code help wordcount autosave emoticons",toolbar:" forecolor backcolor | undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | emoticons"}},null,8,["modelValue"])])]),e("div",Fl,[Hl,e("div",El,[k(t(M),{modelValue:t(u),"onUpdate:modelValue":o[19]||(o[19]=l=>d(u)?u.value=l:u=l),"api-key":"8gzqmdnsiplu2pd33s0doas4xo8735024fznwlgttd4ldri6",init:{plugins:"  lists advlist link image table code help wordcount autosave emoticons",toolbar:" forecolor backcolor | undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | emoticons"}},null,8,["modelValue"])])]),e("div",Al,[Kl,e("div",Xl,[k(t(M),{modelValue:t(V),"onUpdate:modelValue":o[20]||(o[20]=l=>d(V)?V.value=l:V=l),"api-key":"8gzqmdnsiplu2pd33s0doas4xo8735024fznwlgttd4ldri6",init:{plugins:"  lists advlist link image table code help wordcount autosave emoticons",toolbar:" forecolor backcolor | undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | emoticons"}},null,8,["modelValue"])])]),e("div",Ql,[Jl,e("div",Wl,[k(t(M),{modelValue:t(B),"onUpdate:modelValue":o[21]||(o[21]=l=>d(B)?B.value=l:B=l),"api-key":"8gzqmdnsiplu2pd33s0doas4xo8735024fznwlgttd4ldri6",init:{plugins:" lists advlist link image table code help wordcount autosave emoticons",toolbar:" forecolor backcolor | undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | emoticons"}},null,8,["modelValue"])])]),e("div",Yl,[Zl,e("div",$l,[k(t(M),{modelValue:t(R),"onUpdate:modelValue":o[22]||(o[22]=l=>d(R)?R.value=l:R=l),"api-key":"8gzqmdnsiplu2pd33s0doas4xo8735024fznwlgttd4ldri6",init:{plugins:"  lists advlist link image table code help wordcount autosave emoticons",toolbar:" forecolor backcolor | undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | emoticons"}},null,8,["modelValue"])])])]),eo,e("div",{onClick:ce,class:"btn btn-success",style:{"margin-top":"1rem",right:"0",float:"right"}}," Add Tour ")])],64)}}},io=$(lo,[["__scopeId","data-v-2d38014a"]]);export{io as default};
