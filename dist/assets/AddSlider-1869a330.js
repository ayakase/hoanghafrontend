import{_ as y,r as i,o as _,c as T,k as I,i as S,a as e,x as h,y as f,b as p,l as g,F as O,f as w,z as c,p as x,d as k,L as B}from"./index-4d4eda78.js";const n=d=>(x("data-v-ff00c97d"),d=d(),k(),d),C={class:"add-container"},L=n(()=>e("h2",{style:{"text-align":"center","padding-top":"2rem"}},"Tạo Slide mới",-1)),U={class:"mb-3"},F=n(()=>e("label",{for:"",class:"form-label"},"Tiêu đề",-1)),R={class:"mb-3"},N=n(()=>e("label",{for:"",class:"form-label"},"Liên kết",-1)),V={class:"mb-3 thumbnail"},A=n(()=>e("label",{for:"formFile",class:"form-label"},"Hình ảnh",-1)),D={style:{width:"20rem","margin-top":"1rem"}},H=["src"],M={style:{width:"20rem","margin-top":"1rem"}},G=["src"],P=n(()=>e("div",{class:"mt-10 mb-2"},null,-1)),j={__name:"AddSlider",setup(d){const r=i(!1);let s=i(),o=i(),m=i(),u=i();function v(t){console.log(t),t.target.files.length&&(u.value=URL.createObjectURL(t.target.files[0])),m.value=t.target.files[0]}function b(){r.value=!0;const t=new FormData;t.append("title",s.value),t.append("url",o.value),t.append("image",m.value),console.log(m.value),w.post("/admin/slider",t,{headers:{"Content-Type":"multipart/form-data"}}).then(l=>{console.log(l.data),r.value=!1,c.success("Đã nhận thông tin",{autoClose:2e3,theme:"colored",position:c.POSITION.BOTTOM_RIGHT})}).catch(l=>{console.error(l),r.value=!1,c.error("Lỗi "+l+" , đảm bảo là bạn đã điền đủ thông tin, hãy đợi 1p rồi submit lại hoặc là reload lại trang",{autoClose:2e3,theme:"colored",position:c.POSITION.BOTTOM_RIGHT})})}return(t,l)=>(_(),T(O,null,[r.value?(_(),I(B,{key:0})):S("",!0),e("div",C,[L,e("div",U,[F,h(e("input",{type:"text",class:"form-control",id:"",placeholder:"","onUpdate:modelValue":l[0]||(l[0]=a=>g(s)?s.value=a:s=a)},null,512),[[f,p(s)]])]),e("div",R,[N,h(e("input",{type:"text",class:"form-control",id:"",placeholder:"","onUpdate:modelValue":l[1]||(l[1]=a=>g(o)?o.value=a:o=a)},null,512),[[f,p(o)]])]),e("div",V,[A,e("input",{class:"form-control",accept:"image/*",type:"file",id:"formFile",onChange:v},null,32),e("div",D,[e("img",{src:t.thumbnailSrc,alt:"",style:{width:"100%"}},null,8,H)])]),e("div",M,[e("img",{src:p(u),alt:"",style:{width:"100%"}},null,8,G)]),P,e("div",{onClick:b,class:"btn btn-success",style:{"margin-top":"1rem",right:"0",float:"right"}}," Tạo mới ")])],64))}},E=y(j,[["__scopeId","data-v-ff00c97d"]]);export{E as default};
