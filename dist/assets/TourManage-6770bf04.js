import{_ as O,u as B,r,b as Q,d as g,k as K,o as m,c as v,e as t,i as l,f as d,x as y,y as L,t as a,F as P,g as R,l as E,m as q,p as z,j as A,z as w}from"./index-6b32ec18.js";const n=_=>(z("data-v-9b7df997"),_=_(),A(),_),F={class:"admin-tour-crud"},G=n(()=>t("i",{class:"fa-solid fa-plus"},null,-1)),H={class:"sorting-container"},U=n(()=>t("div",{style:{"font-size":"larger"}},"Bộ lọc:",-1)),j={class:"sorting-button-container"},X={class:"d-flex search-container"},$=n(()=>t("i",{class:"fas fa-search"},null,-1)),J=[$],W={class:"btn-group"},Y={type:"button",class:"btn btn-success dropdown-toggle","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{color:"white"}},Z=n(()=>t("i",{class:"fa-solid fa-book"}," :",-1)),tt=n(()=>t("i",{class:"fa-solid fa-vihara"},null,-1)),ot=n(()=>t("i",{class:"fa-solid fa-flag"},null,-1)),et=n(()=>t("i",{class:"fa-solid fa-globe"},null,-1)),st=n(()=>t("i",{class:"fa-solid fa-arrow-up-wide-short"},null,-1)),nt=n(()=>t("i",{class:"fa-solid fa-arrow-down-wide-short"},null,-1)),at=n(()=>t("i",{class:"fa-solid fa-rotate-right"},null,-1)),lt=[at],ct=n(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col"},"ID"),t("th",{scope:"col"},"Tên tour"),t("th",{scope:"col"},"Lịch trình"),t("th",{scope:"col"},"Danh mục"),t("th",{scope:"col"},"Khởi hành"),t("th",{scope:"col"},"Số ngày"),t("th",{scope:"col"},"Tour Hot"),t("th",{scope:"col"},"Phương tiện"),t("th",{scope:"col"}," Tạo lúc "),t("th",{scope:"col"}," Chỉnh sửa "),t("th",{scope:"col"}," Xóa")])],-1)),it={scope:"row"},ut=n(()=>t("td",null,[t("button",{class:"edit-button"},[t("i",{class:"fa-solid fa-pen-to-square"})])],-1)),rt=["onClick"],dt=n(()=>t("i",{class:"fa-solid fa-trash"},null,-1)),ht=[dt],_t={__name:"TourManage",setup(_){const T=B();let c=r(1),p=r(),b=r();Q(()=>{g.get("/admin/tour/"+u.value+"/"+h.value+"/1").then(o=>{console.log(o.data),p.value=o.data.rows,b.value=o.data.count/10+1}).catch(o=>{console.error(o)})});function k(){g.get("/admin/tour/"+u.value+"/"+h.value+"/"+c.value).then(o=>{console.log(o.data),p.value=o.data.rows,b.value=o.data.count/10+1}).catch(o=>{console.error(o)})}function C(o){console.log(o),g.delete("/admin/tour/"+o).then(s=>{console.log(s),w.success("Đã xóa",{autoClose:2e3,theme:"dark",position:w.POSITION.BOTTOM_RIGHT}),i()}).catch(s=>{console.error(s)})}let f=r("Trung Quốc"),u=r(1);function x(){f.value="Trung Quốc",u.value=1,i()}function S(){f.value="Trong nước",u.value=2,i()}function D(){f.value="Quốc tế",u.value=3,i()}let h=r("DESC");function I(){h.value="DESC",i()}function N(){h.value="ASC",i()}function i(){g.get("/admin/tour/"+u.value+"/"+h.value+"/"+c.value).then(o=>{console.log(o.data),p.value=o.data.rows,b.value=o.data.count/10+1}).catch(o=>{console.error(o)})}function M(o){const s={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return new Date(o).toLocaleString("vi-VN",s).replace(" tháng ","/").replace("lúc","").replace(", ","/")}return(o,s)=>{const V=K("v-pagination");return m(),v("div",F,[t("button",{onClick:s[0]||(s[0]=e=>d(T).push("/admin/quan-li-tour/them-tour")),class:"btn btn-success add-btn",style:{"margin-bottom":"1rem"}},[l(" Thêm tour mới "),G]),t("div",H,[U,t("div",j,[t("form",X,[t("button",{class:"btn btn-outline-success",onClick:s[1]||(s[1]=y(()=>{},["prevent"]))},J),t("input",{onKeydown:s[2]||(s[2]=L(y(()=>{},["prevent"]),["enter"])),class:"form-control me-2 search-box",type:"search",placeholder:"Tìm kiếm theo tên","aria-label":"Search"},null,32)]),t("div",W,[t("button",Y,[l(" Danh mục   "),Z,l(" "+a(d(f)),1)]),t("div",{class:"dropdown-menu"},[t("button",{class:"dropdown-item",onClick:x},[l("Trung Quốc  "),tt]),t("button",{class:"dropdown-item",onClick:S},[l("Trong nước   "),ot]),t("button",{class:"dropdown-item",onClick:D},[l("Quốc tế   "),et])])]),t("button",{class:"sort-button btn btn-success",onClick:I},[l("Mới nhất   "),st]),t("button",{class:"sort-button btn btn-success",onClick:N},[l("Cũ nhất   "),nt]),t("button",{class:"btn btn-success",onClick:i},lt)])]),(m(),v("table",{key:o.componentKey,class:"table table-success table-striped",style:{width:"80vw","box-shadow":"rgba(0, 0, 0, 0.24) 0px 3px 8px"}},[ct,t("tbody",null,[(m(!0),v(P,null,R(d(p),e=>(m(),v("tr",{key:e,class:"each-tour-row"},[t("th",it,a(e.id),1),t("td",null,a(e.title),1),t("td",null,a(e.schedule),1),t("td",null,a(e.tourcategory),1),t("td",null,a(e.departure),1),t("td",null,a(e.days),1),t("td",null,a(e.ishottour),1),t("td",null,a(e.transportation),1),t("td",null,a(M(e.createdAt)),1),ut,t("td",null,[t("button",{class:"delete-button",onClick:pt=>C(e.id)},ht,8,rt)])]))),128))])])),E(V,{onClick:k,modelValue:d(c),"onUpdate:modelValue":s[3]||(s[3]=e=>q(c)?c.value=e:c=e),length:d(b),"total-visible":5,"prev-icon":"fa-solid fa-chevron-left","next-icon":"fa-solid fa-chevron-right"},null,8,["modelValue","length"]),t("div",null,a(d(c)),1)])}}},ft=O(_t,[["__scopeId","data-v-9b7df997"]]);export{ft as default};
