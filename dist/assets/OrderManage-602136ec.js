import{_ as M,r as i,e as V,g as D,o as c,c as r,a as t,x as k,B as E,h as d,t as n,b as _,F as L,i as P,j as G,k as H,l as K,f as x,p as R,d as A,s as v}from"./index-65a4f342.js";import{T as F}from"./TableLoading-7d03f1f3.js";const l=p=>(R("data-v-86163262"),p=p(),A(),p),U={class:"order-manage-container"},j={class:"sorting-container"},z=l(()=>t("div",{style:{"font-size":"larger"}},"Bộ lọc:",-1)),$={class:"sorting-button-container"},q={class:"d-flex search-container"},J=l(()=>t("i",{class:"fas fa-search"},null,-1)),Q=[J],W={class:"btn-group"},X={type:"button",class:"btn btn-success dropdown-toggle","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{color:"white"}},Y=l(()=>t("i",{class:"fa-solid fa-check-to-slot"},": ",-1)),Z=l(()=>t("i",{class:"fa-solid fa-xmark"},null,-1)),tt=l(()=>t("i",{class:"fa-solid fa-check"},null,-1)),et=l(()=>t("i",{class:"fa-solid fa-arrow-up-wide-short"},null,-1)),ot=l(()=>t("i",{class:"fa-solid fa-arrow-down-wide-short"},null,-1)),lt=l(()=>t("i",{class:"fa-solid fa-rotate-right"},null,-1)),st=[lt],nt={key:0,class:"table table-success table-striped",style:{width:"80vw","box-shadow":"rgba(0, 0, 0, 0.24) 0px 3px 8px"}},at=l(()=>t("thead",null,[t("tr",null,[t("th",{style:{"vertical-align":"top"},scope:"col"},"Tên tour"),t("th",{style:{"vertical-align":"top"},scope:"col"},"Khách hàng"),t("th",{style:{"vertical-align":"top"},scope:"col"},"SĐT"),t("th",{style:{"vertical-align":"top"},scope:"col"},"Ngày đặt"),t("th",{style:{"vertical-align":"top"},scope:"col"},"Email"),t("th",{style:{"vertical-align":"top"},scope:"col"},"Trẻ em (dưới 5)"),t("th",{style:{"vertical-align":"top"},scope:"col"},"Trẻ em (5-11) tuổi"),t("th",{style:{"vertical-align":"top"},scope:"col"}," Người lớn (trên 12 tuổi) "),t("th",{style:{"vertical-align":"top"},scope:"col"}," Ghi chú"),t("th",{style:{"vertical-align":"top"},scope:"col"},"Hành động")])],-1)),ct={key:0,style:{"vertical-align":"middle"}},it=["onClick"],rt=l(()=>t("i",{class:"fa-regular fa-circle-check fa-lg"},null,-1)),dt=[rt],ut={key:1,style:{"vertical-align":"middle"}},ht=["onClick"],_t=l(()=>t("i",{class:"fa-regular fa-circle-xmark fa-lg"},null,-1)),pt=[_t],gt={__name:"OrderManage",setup(p){let u=i(1),b=i(),f=i("DESC"),h=i(),m=i("Chưa xử lý"),g=i(0);function a(){h.value=null,x.get("/admin/order/"+f.value+"/"+g.value+"/"+u.value).then(s=>{console.log(s.data),h.value=s.data.rows,console.log(h.value),b.value=s.data.count/10+1}).catch(s=>{console.error(s)})}V(()=>{a()});function w(){f.value="DESC",a()}function C(){f.value="ASC",a()}function T(){m.value="Đã xử lý",g.value=1,a()}function O(){m.value="Chưa xử lý",g.value=0,a()}function S(s){const o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return new Date(s).toLocaleString("vi-VN",o).replace(" tháng ","/").replace("lúc","").replace(", ","/")}function I(){a()}function y(s){x.put("/admin/order/"+s).then(o=>{console.log(o),a(),g.value==0?v.success("Đã chuyển sang mục đã xử lý",{autoClose:2e3,theme:"colored",position:v.POSITION.BOTTOM_RIGHT}):v.info("Đã chuyển sang mục chưa xử lý",{autoClose:2e3,theme:"colored",position:v.POSITION.BOTTOM_RIGHT})}).catch(o=>{console.log(o)})}return(s,o)=>{const N=D("v-pagination");return c(),r("div",U,[t("div",j,[z,t("div",$,[t("form",q,[t("button",{class:"btn btn-outline-success",onClick:o[0]||(o[0]=k(()=>{},["prevent"]))},Q),t("input",{onKeydown:o[1]||(o[1]=E(k(()=>{},["prevent"]),["enter"])),class:"form-control me-2 search-box",type:"search",placeholder:"Tìm kiếm theo tên","aria-label":"Search"},null,32)]),t("div",W,[t("button",X,[d(" Trạng thái   "),Y,d(" "+n(_(m)),1)]),t("div",{class:"dropdown-menu"},[t("button",{class:"dropdown-item",onClick:O},[d("Chưa xử lí   "),Z]),t("button",{class:"dropdown-item",onClick:T},[d("Đã xử lí  "),tt])])]),t("button",{class:"sort-button btn btn-success",onClick:w},[d("Mới nhất   "),et]),t("button",{class:"sort-button btn btn-success",onClick:C},[d("Cũ nhất   "),ot]),t("button",{class:"btn btn-success",onClick:a},st)])]),_(h)?(c(),r("table",nt,[at,t("tbody",null,[(c(!0),r(L,null,P(_(h),e=>(c(),r("tr",{key:e,class:"each-tour-row"},[t("td",null,n(e.Tour.title),1),t("td",null,n(e.name),1),t("td",null,n(e.phone),1),t("td",null,n(S(e.createdAt)),1),t("td",null,n(e.email),1),t("td",null,n(e.children),1),t("td",null,n(e.teenager),1),t("td",null,n(e.adult),1),t("td",null,n(e.note),1),e.solved==0?(c(),r("td",ct,[t("button",{class:"solve-btn",onClick:B=>y(e.id)},dt,8,it)])):(c(),r("td",ut,[t("button",{class:"solve-btn",onClick:B=>y(e.id)},pt,8,ht)]))]))),128))])])):(c(),G(F,{key:1})),H(N,{onClick:I,modelValue:_(u),"onUpdate:modelValue":o[2]||(o[2]=e=>K(u)?u.value=e:u=e),length:_(b),"total-visible":5,"prev-icon":"fa-solid fa-chevron-left","next-icon":"fa-solid fa-chevron-right"},null,8,["modelValue","length"])])}}},mt=M(gt,[["__scopeId","data-v-86163262"]]);export{mt as default};
