import{_ as T,r as l,g as w,o as p,c as _,k as x,i as f,a as e,v as I,x as O,n as g,b as k,F as V,f as C,y as r,p as N,d as S,L as B}from"./index-187c685b.js";import{E as U}from"./Editor-f8dcbddc.js";const c=a=>(N("data-v-cf303593"),a=a(),S(),a),F={class:"add-container"},L=c(()=>e("h2",{style:{"text-align":"center","padding-top":"2rem"}},"Tạo bài viết mới",-1)),P={class:"mb-3"},R=c(()=>e("label",{for:"",class:"form-label"},"Tiêu đề",-1)),D={class:"mb-3 thumbnail"},E=c(()=>e("label",{for:"formFile",class:"form-label"},"Hình thu nhỏ",-1)),H={style:{width:"20rem","margin-top":"1rem"}},M=["src"],j={style:{width:"12rem",display:"flex","flex-direction":"row","align-items":"center"}},z={key:0,style:{color:"rgb(0, 102, 255)"},class:"fa-regular fa-paper-plane"},G=c(()=>e("div",{class:"mt-10 mb-2"},null,-1)),q={__name:"NewPost",setup(a){const n=l(!0),i=l(!1),m=l(),d=l(),u=l(),h=l();function v(t){console.log(t),t.target.files.length&&(m.value=URL.createObjectURL(t.target.files[0])),h.value=t.target.files[0]}function b(){i.value=!0;const t=new FormData;t.append("postTitle",d.value),t.append("postThumbnail",h.value),t.append("postContent",u.value),t.append("publishState",n.value),C.post("/admin/post",t,{headers:{"Content-Type":"multipart/form-data"}}).then(o=>{console.log(o.data),i.value=!1,r.success("Đã nhận thông tin",{autoClose:2e3,theme:"colored",position:r.POSITION.BOTTOM_RIGHT})}).catch(o=>{console.error(o),i.value=!1,r.error("Lỗi "+o+" , đảm bảo là bạn đã điền đủ thông tin, hãy đợi 1p rồi submit lại hoặc là reload lại trang",{autoClose:2e3,theme:"colored",position:r.POSITION.BOTTOM_RIGHT})})}return(t,o)=>{const y=w("v-switch");return p(),_(V,null,[i.value?(p(),x(B,{key:0})):f("",!0),e("div",F,[L,e("div",P,[R,I(e("input",{type:"text",class:"form-control",id:"",placeholder:"","onUpdate:modelValue":o[0]||(o[0]=s=>d.value=s)},null,512),[[O,d.value]])]),e("div",D,[E,e("input",{class:"form-control",accept:"image/*",type:"file",id:"formFile",onChange:v},null,32),e("div",H,[e("img",{src:m.value,alt:"",style:{width:"100%"}},null,8,M)])]),e("div",j,[g(y,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=s=>n.value=s),label:"Xuất bản luôn",color:"info",style:{"margin-right":"1rem"},"hide-details":""},null,8,["modelValue"]),n.value?(p(),_("i",z)):f("",!0)]),e("div",null,[g(k(U),{style:{height:"50rem"},modelValue:u.value,"onUpdate:modelValue":o[2]||(o[2]=s=>u.value=s),"api-key":"8gzqmdnsiplu2pd33s0doas4xo8735024fznwlgttd4ldri6",init:{plugins:"  lists advlist link image table code help wordcount autosave emoticons",toolbar:" forecolor backcolor | undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | emoticons"}},null,8,["modelValue"])]),G,e("div",{onClick:b,class:"btn btn-success",style:{"margin-top":"1rem",right:"0",float:"right"}}," Add post ")])],64)}}},J=T(q,[["__scopeId","data-v-cf303593"]]);export{J as default};
