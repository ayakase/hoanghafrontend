import{_ as V,u as O,r,e as K,g as L,o as _,c as p,a as t,j as e,b as n,A as S,D as q,t as d,F as A,h as P,k as E,n as R,l as z,f as $,p as F,d as G,z as D}from"./index-4d4eda78.js";import{T as H}from"./TableLoading-0b72f2d0.js";/* empty css                                                                     */const s=m=>(F("data-v-bf7d1a4b"),m=m(),G(),m),U={class:"admin-tour-crud"},j=s(()=>t("i",{class:"fa-solid fa-plus"},null,-1)),X={class:"sorting-container"},J=s(()=>t("div",{style:{"font-size":"larger"}},"Bộ lọc:",-1)),W={class:"sorting-button-container"},Y={class:"d-flex search-container"},Z=s(()=>t("i",{class:"fas fa-search"},null,-1)),tt=[Z],ot={class:"btn-group"},st={type:"button",class:"btn btn-success dropdown-toggle","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{color:"white"}},et=s(()=>t("i",{class:"fa-solid fa-book"}," :",-1)),nt=s(()=>t("i",{class:"fa-regular fa-rectangle-list"},null,-1)),lt=s(()=>t("i",{class:"fa-solid fa-vihara"},null,-1)),at=s(()=>t("i",{class:"fa-solid fa-flag"},null,-1)),ct=s(()=>t("i",{class:"fa-solid fa-globe"},null,-1)),it={class:"btn-group"},dt={type:"button",class:"btn btn-success dropdown-toggle","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{color:"white"}},ut=s(()=>t("i",{class:"fa-solid fa-book"}," :",-1)),rt=s(()=>t("i",{class:"fa-regular fa-rectangle-list"},null,-1)),ht=s(()=>t("i",{class:"fa-solid fa-vihara"},null,-1)),_t=s(()=>t("i",{class:"fa-solid fa-flag"},null,-1)),pt=s(()=>t("i",{class:"fa-solid fa-globe"},null,-1)),bt={class:"btn-group"},ft={type:"button",class:"btn btn-success dropdown-toggle","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{color:"white"}},gt=s(()=>t("i",{class:"fa-solid fa-book"}," :",-1)),mt=s(()=>t("i",{class:"fa-regular fa-rectangle-list"},null,-1)),vt=s(()=>t("i",{class:"fa-solid fa-flag"},null,-1)),kt=s(()=>t("i",{class:"fa-solid fa-globe"},null,-1)),Ct=s(()=>t("i",{class:"fa-solid fa-arrow-up-wide-short"},null,-1)),wt=s(()=>t("i",{class:"fa-solid fa-arrow-down-wide-short"},null,-1)),yt=s(()=>t("i",{class:"fa-solid fa-rotate-right"},null,-1)),Tt=[yt],xt={key:0,class:"table table-success table-striped table-hover",style:{"box-shadow":"rgba(0, 0, 0, 0.24) 0px 3px 8px"}},St=s(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col"},"ID"),t("th",{scope:"col"},"Tên tour"),t("th",{scope:"col"},"Slug"),t("th",{scope:"col"},"Lịch trình"),t("th",{scope:"col"},"Khởi hành"),t("th",{scope:"col"},"Số ngày"),t("th",{scope:"col"},"Tour Hot"),t("th",{scope:"col"},"Phương tiện"),t("th",{scope:"col"}," Tạo lúc "),t("th",{scope:"col"}," Chỉnh sửa "),t("th",{scope:"col"}," Xóa")])],-1)),$t=["onClick"],Dt=["onClick"],It=["onClick"],Nt=["onClick"],Bt=["onClick"],Mt=["onClick"],Qt=["onClick"],Vt=["onClick"],Ot=["onClick"],Kt=["onClick"],Lt=["onClick"],qt=s(()=>t("i",{class:"fa-solid fa-pen-to-square"},null,-1)),At=[qt],Pt=["onClick"],Et=s(()=>t("i",{class:"fa-solid fa-trash"},null,-1)),Rt=[Et],zt={__name:"TourManage",setup(m){const l=O();let b=r(1),v=r(),T=r();function u(){v.value=null,$.get("/admin/tour/"+f.value+"/"+y.value+"/"+b.value).then(a=>{console.log(a.data),v.value=a.data.rows,T.value=a.data.count/10+1}).catch(a=>{console.error(a)})}r(),r(),K(()=>{u()});function I(){u()}function N(a){console.log(a);let c="Bạn có chắc chắn muốn xóa Tour "+a;confirm(c)==!0&&$.delete("/admin/tour/"+a).then(g=>{console.log(g),D.info("Đã xóa",{autoClose:2e3,theme:"colored",position:D.POSITION.BOTTOM_RIGHT}),u()}).catch(g=>{console.error(g)})}let h=r("Tất cả"),f=r(0);function k(){h.value="Tất cả",f.value=0,u()}function x(){h.value="Trung Quốc",f.value=1,u()}function C(){h.value="Trong nước",f.value=2,u()}function w(){h.value="Quốc tế",f.value=3,u()}let y=r("DESC");function B(){y.value="DESC",u()}function M(){y.value="ASC",u()}function Q(a){const c={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return new Date(a).toLocaleString("vi-VN",c).replace(" tháng ","/").replace("lúc","").replace(", ","/")}return(a,c)=>{const g=L("v-pagination");return _(),p("div",U,[t("button",{onClick:c[0]||(c[0]=o=>n(l).push("/admin/quan-ly-tour/them-tour")),class:"btn btn-success add-btn",style:{"margin-bottom":"1rem"}},[e(" Thêm tour mới "),j]),t("div",X,[J,t("div",W,[t("form",Y,[t("button",{class:"btn btn-outline-success",onClick:c[1]||(c[1]=S(()=>{},["prevent"]))},tt),t("input",{onKeydown:c[2]||(c[2]=q(S(()=>{},["prevent"]),["enter"])),class:"form-control me-2 search-box",type:"search",placeholder:"Tìm kiếm theo tên","aria-label":"Search"},null,32)]),t("div",ot,[t("button",st,[e(" Danh mục   "),et,e(" "+d(n(h)),1)]),t("div",{class:"dropdown-menu"},[t("button",{class:"dropdown-item",onClick:k},[e("Tất cả  "),nt]),t("button",{class:"dropdown-item",onClick:x},[e("Trung Quốc  "),lt]),t("button",{class:"dropdown-item",onClick:C},[e("Trong nước   "),at]),t("button",{class:"dropdown-item",onClick:w},[e("Quốc tế   "),ct])])]),t("div",it,[t("button",dt,[e(" Khu vực   "),ut,e(" "+d(n(h)),1)]),t("div",{class:"dropdown-menu"},[t("button",{class:"dropdown-item",onClick:k},[e("Tất cả  "),rt]),t("button",{class:"dropdown-item",onClick:x},[e("Trung Quốc  "),ht]),t("button",{class:"dropdown-item",onClick:C},[e("Trong nước   "),_t]),t("button",{class:"dropdown-item",onClick:w},[e("Quốc tế   "),pt])])]),t("div",bt,[t("button",ft,[e(" Địa điểm   "),gt,e(" "+d(n(h)),1)]),t("div",{class:"dropdown-menu"},[t("button",{class:"dropdown-item",onClick:k},[e("Tất cả  "),mt]),t("button",{class:"dropdown-item",onClick:C},[e("Trong nước   "),vt]),t("button",{class:"dropdown-item",onClick:w},[e("Quốc tế   "),kt])])]),t("button",{class:"sort-button btn btn-success",onClick:B},[e("Mới nhất   "),Ct]),t("button",{class:"sort-button btn btn-success",onClick:M},[e("Cũ nhất   "),wt]),t("button",{class:"btn btn-success",onClick:u},Tt)])]),n(v)?(_(),p("table",xt,[St,t("tbody",null,[(_(!0),p(A,null,P(n(v),o=>(_(),p("tr",{key:o,class:"each-tour-row"},[t("th",{scope:"row",onClick:i=>n(l).push({path:"/"+o.slug})},d(o.id),9,$t),t("td",{onClick:i=>n(l).push({path:"/"+o.slug})},d(o.title),9,Dt),t("td",{onClick:i=>n(l).push({path:"/"+o.slug})},d(o.slug),9,It),t("td",{onClick:i=>n(l).push({path:"/"+o.slug})},d(o.schedule),9,Nt),t("td",{onClick:i=>n(l).push({path:"/tour/"+o.slug})},d(o.departure),9,Bt),t("td",{onClick:i=>n(l).push({path:"/tour/"+o.slug})},d(o.days),9,Mt),o.ishottour==1?(_(),p("td",{key:0,onClick:i=>n(l).push({path:"/tour/"+o.slug})}," Có ",8,Qt)):(_(),p("td",{key:1,onClick:i=>n(l).push({path:"/tour/"+o.slug})}," Không",8,Vt)),t("td",{onClick:i=>n(l).push({path:"/tour/"+o.slug})},d(o.transportation),9,Ot),t("td",{onClick:i=>n(l).push({path:"/tour/"+o.slug})},d(Q(o.createdAt)),9,Kt),t("td",null,[t("button",{onClick:i=>n(l).push({path:"/admin/quan-ly-tour/chinh-sua-tour",query:{id:o.id}}),class:"edit-button"},At,8,Lt)]),t("td",null,[t("button",{class:"delete-button",onClick:i=>N(o.id)},Rt,8,Pt)])]))),128))])])):(_(),E(H,{key:1})),R(g,{onClick:I,modelValue:n(b),"onUpdate:modelValue":c[3]||(c[3]=o=>z(b)?b.value=o:b=o),length:n(T),"total-visible":5,"prev-icon":"fa-solid fa-chevron-left","next-icon":"fa-solid fa-chevron-right"},null,8,["modelValue","length"])])}}},Ut=V(zt,[["__scopeId","data-v-bf7d1a4b"]]);export{Ut as default};
