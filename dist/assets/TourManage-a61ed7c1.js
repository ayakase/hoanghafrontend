import{_ as q,c as b,d as C,p as S,n as I,e as t,u as P,r as v,o as Q,b as y,a as R,l as u,f as n,A as $,B as E,t as c,F as K,g as F,h as G,i as H,j as U,x}from"./index-1d3ceb23.js";const j={name:"TableLoading"},w=d=>(S("data-v-3b52e111"),d=d(),I(),d),z={class:"lds-facebook"},X=w(()=>t("div",null,null,-1)),J=w(()=>t("div",null,null,-1)),W=w(()=>t("div",null,null,-1)),Y=[X,J,W];function Z(d,a,r,p,f,T){return b(),C("div",z,Y)}const tt=q(j,[["render",Z],["__scopeId","data-v-3b52e111"]]);const s=d=>(S("data-v-676b2234"),d=d(),I(),d),ot={class:"admin-tour-crud"},et=s(()=>t("i",{class:"fa-solid fa-plus"},null,-1)),nt={class:"sorting-container"},st=s(()=>t("div",{style:{"font-size":"larger"}},"Bộ lọc:",-1)),at={class:"sorting-button-container"},lt={class:"d-flex search-container"},ct=s(()=>t("i",{class:"fas fa-search"},null,-1)),it=[ct],dt={class:"btn-group"},ut={type:"button",class:"btn btn-success dropdown-toggle","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{color:"white"}},rt=s(()=>t("i",{class:"fa-solid fa-book"}," :",-1)),ht=s(()=>t("i",{class:"fa-regular fa-rectangle-list"},null,-1)),_t=s(()=>t("i",{class:"fa-solid fa-vihara"},null,-1)),pt=s(()=>t("i",{class:"fa-solid fa-flag"},null,-1)),vt=s(()=>t("i",{class:"fa-solid fa-globe"},null,-1)),bt=s(()=>t("i",{class:"fa-solid fa-arrow-up-wide-short"},null,-1)),ft=s(()=>t("i",{class:"fa-solid fa-arrow-down-wide-short"},null,-1)),gt=s(()=>t("i",{class:"fa-solid fa-rotate-right"},null,-1)),mt=[gt],kt={key:0,class:"table table-success table-striped table-hover",style:{width:"80vw","box-shadow":"rgba(0, 0, 0, 0.24) 0px 3px 8px"}},Ct=s(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col"},"ID"),t("th",{scope:"col"},"Tên tour"),t("th",{scope:"col"},"Lịch trình"),t("th",{scope:"col"},"Danh mục"),t("th",{scope:"col"},"Khởi hành"),t("th",{scope:"col"},"Số ngày"),t("th",{scope:"col"},"Tour Hot"),t("th",{scope:"col"},"Phương tiện"),t("th",{scope:"col"}," Tạo lúc "),t("th",{scope:"col"}," Chỉnh sửa "),t("th",{scope:"col"}," Xóa")])],-1)),yt=["onClick"],wt=["onClick"],Tt=["onClick"],$t=["onClick"],xt=["onClick"],qt=["onClick"],St=["onClick"],It=["onClick"],Dt=["onClick"],Bt=["onClick"],Nt=s(()=>t("i",{class:"fa-solid fa-pen-to-square"},null,-1)),Lt=[Nt],Mt=["onClick"],Vt=s(()=>t("i",{class:"fa-solid fa-trash"},null,-1)),Ot=[Vt],At={__name:"TourManage",setup(d){const a=P();let r=v(1),p=v(),f=v();Q(()=>{y.get("/admin/tour/"+_.value+"/"+m.value+"/1").then(e=>{console.log(e.data),p.value=e.data.rows,f.value=e.data.count/10+1}).catch(e=>{console.error(e)})});function T(){y.get("/admin/tour/"+_.value+"/"+m.value+"/"+r.value).then(e=>{console.log(e.data),p.value=e.data.rows,f.value=e.data.count/10+1}).catch(e=>{console.error(e)})}function D(e){console.log(e);let l="Bạn có chắc chắn muốn xóa Tour "+e;confirm(l)==!0&&y.delete("/admin/tour/"+e).then(k=>{console.log(k),x.success("Đã xóa",{autoClose:2e3,theme:"dark",position:x.POSITION.BOTTOM_RIGHT}),h()}).catch(k=>{console.error(k)})}let g=v("Tất cả"),_=v(0);function B(){g.value="Tất cả",_.value=0,h()}function N(){g.value="Trung Quốc",_.value=1,h()}function L(){g.value="Trong nước",_.value=2,h()}function M(){g.value="Quốc tế",_.value=3,h()}let m=v("DESC");function V(){m.value="DESC",h()}function O(){m.value="ASC",h()}function h(){y.get("/admin/tour/"+_.value+"/"+m.value+"/"+r.value).then(e=>{console.log(e.data),p.value=e.data.rows,f.value=e.data.count/10+1}).catch(e=>{console.error(e)})}function A(e){const l={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return new Date(e).toLocaleString("vi-VN",l).replace(" tháng ","/").replace("lúc","").replace(", ","/")}return(e,l)=>{const k=R("v-pagination");return b(),C("div",ot,[t("button",{onClick:l[0]||(l[0]=o=>n(a).push("/admin/quan-li-tour/them-tour")),class:"btn btn-success add-btn",style:{"margin-bottom":"1rem"}},[u(" Thêm tour mới "),et]),t("div",nt,[st,t("div",at,[t("form",lt,[t("button",{class:"btn btn-outline-success",onClick:l[1]||(l[1]=$(()=>{},["prevent"]))},it),t("input",{onKeydown:l[2]||(l[2]=E($(()=>{},["prevent"]),["enter"])),class:"form-control me-2 search-box",type:"search",placeholder:"Tìm kiếm theo tên","aria-label":"Search"},null,32)]),t("div",dt,[t("button",ut,[u(" Danh mục   "),rt,u(" "+c(n(g)),1)]),t("div",{class:"dropdown-menu"},[t("button",{class:"dropdown-item",onClick:B},[u("Tất cả  "),ht]),t("button",{class:"dropdown-item",onClick:N},[u("Trung Quốc  "),_t]),t("button",{class:"dropdown-item",onClick:L},[u("Trong nước   "),pt]),t("button",{class:"dropdown-item",onClick:M},[u("Quốc tế   "),vt])])]),t("button",{class:"sort-button btn btn-success",onClick:V},[u("Mới nhất   "),bt]),t("button",{class:"sort-button btn btn-success",onClick:O},[u("Cũ nhất   "),ft]),t("button",{class:"btn btn-success",onClick:h},mt)])]),n(p)?(b(),C("table",kt,[Ct,t("tbody",null,[(b(!0),C(K,null,F(n(p),o=>(b(),C("tr",{key:o,class:"each-tour-row"},[t("th",{scope:"row",onClick:i=>n(a).push({path:"/tourdetail",query:{id:o.id}})},c(o.id),9,yt),t("td",{onClick:i=>n(a).push({path:"/tourdetail",query:{id:o.id}})},c(o.title),9,wt),t("td",{onClick:i=>n(a).push({path:"/tourdetail",query:{id:o.id}})},c(o.schedule),9,Tt),t("td",{onClick:i=>n(a).push({path:"/tourdetail",query:{id:o.id}})},c(o.Category.name),9,$t),t("td",{onClick:i=>n(a).push({path:"/tourdetail",query:{id:o.id}})},c(o.departure),9,xt),t("td",{onClick:i=>n(a).push({path:"/tourdetail",query:{id:o.id}})},c(o.days),9,qt),t("td",{onClick:i=>n(a).push({path:"/tourdetail",query:{id:o.id}})},c(o.ishottour),9,St),t("td",{onClick:i=>n(a).push({path:"/tourdetail",query:{id:o.id}})},c(o.transportation),9,It),t("td",{onClick:i=>n(a).push({path:"/tourdetail",query:{id:o.id}})},c(A(o.createdAt)),9,Dt),t("td",null,[t("button",{onClick:i=>n(a).push({path:"/admin/quan-li-tour/chinh-sua-tour",query:{id:o.id}}),class:"edit-button"},Lt,8,Bt)]),t("td",null,[t("button",{class:"delete-button",onClick:i=>D(o.id)},Ot,8,Mt)])]))),128))])])):(b(),G(tt,{key:1})),H(k,{onClick:T,modelValue:n(r),"onUpdate:modelValue":l[3]||(l[3]=o=>U(r)?r.value=o:r=o),length:n(f),"total-visible":5,"prev-icon":"fa-solid fa-chevron-left","next-icon":"fa-solid fa-chevron-right"},null,8,["modelValue","length"]),t("div",null,c(n(r)),1)])}}},Qt=q(At,[["__scopeId","data-v-676b2234"]]);export{Qt as default};
