import{_ as U,r as c,e as j,f as g,g as h,o as s,c as i,b as d,i as I,z as N,a as t,j as f,w as b,k as M,m as C,F as y,h as T,s as p,t as R,p as z,d as D,L as F}from"./index-baf84528.js";const m=_=>(z("data-v-acc2b7ce"),_=_(),D(),_),P={class:"library-container"},G={class:"images-section"},H={style:{display:"flex","flex-direction":"row",gap:"2rem",width:"80%"}},q=m(()=>t("i",{class:"fa-solid fa-cloud-arrow-up"},null,-1)),E=m(()=>t("div",null,[t("p",null,"Chỉ nhận định dạng .png, .jpg, .jpeg, .gif, .webp. Mỗi lần tải lên không quá 10 files để đảm bảo đường truyềnf")],-1)),A={class:"image-grid"},J={class:"d-flex align-center justify-center fill-height"},K={class:"button-container"},Q={class:"action-section"},W=m(()=>t("h3",null,"URL",-1)),X=["value"],Y=m(()=>t("button",{class:"btn btn-success",style:{"justify-self":"end","align-self":"end","font-size":"x-large"}},[t("i",{class:"fa-regular fa-copy"})],-1)),Z={__name:"ImageLibrary",setup(_){let r=c(),n=c([]);c(2);let x=c(),o=c(!1);function w(e){console.log(e),x.value=e}function O(){o.value=!0;const e=new FormData;for(const a of n.value)e.append("images",a);g.post("/admin/library",e,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{console.log(a.data),n.value=[],o.value=!1,p.success("Đã nhận thông tin",{autoClose:2e3,theme:"colored",position:p.POSITION.BOTTOM_RIGHT})}).then(()=>{g.get("/admin/library").then(a=>{console.log(a.data.next_cursor),r.value=a.data.resources,u.value=a.data.next_cursor,o.value=!1}).catch(a=>{console.log(a)})}).catch(a=>{console.error(a),o.value=!1,p.error("Lỗi "+a+" , kiểm tra lại định dạng của files",{autoClose:2e3,theme:"colored",position:p.POSITION.BOTTOM_RIGHT})})}let u=c(null);j(()=>{o.value=!0,g.get("/admin/library").then(e=>{o.value=!1,console.log(e.data.next_cursor),r.value=e.data.resources,u.value=e.data.next_cursor}).catch(e=>{console.log(e)})});function k(){o.value=!0,g.get("/admin/library/"+u.value).then(e=>{o.value=!1,console.log(e.data.next_cursor),r.value=r.value.concat(e.data.resources),u.value=e.data.next_cursor}).catch(e=>{console.log(e)})}return(e,a)=>{const L=h("v-chip"),V=h("v-file-input"),B=h("v-progress-circular"),S=h("v-img");return s(),i(y,null,[d(o)?(s(),I(F,{key:0})):N("",!0),t("div",P,[t("div",G,[t("div",H,[f(V,{modelValue:d(n),"onUpdate:modelValue":a[0]||(a[0]=l=>M(n)?n.value=l:n=l),placeholder:"Upload your documents",label:"Ảnh",multiple:"","prepend-icon":"fa-solid fa-images",class:"image-upload"},{selection:b(({fileNames:l})=>[(s(!0),i(y,null,T(l,v=>(s(),I(L,{key:v,size:"small",label:"",color:"#006400",class:"me-2"},{default:b(()=>[C(R(v),1)]),_:2},1024))),128))]),_:1},8,["modelValue"]),t("button",{class:"btn btn-success",style:{height:"90%"},onClick:O},[C("Tải ảnh lên  "),q])]),E,t("div",A,[(s(!0),i(y,null,T(d(r),l=>(s(),i("div",{key:l,class:"each-image"},[f(S,{cover:"",class:"each-image",src:l.url,onClick:v=>w(l.url)},{placeholder:b(()=>[t("div",J,[f(B,{color:"grey-lighten-4",indeterminate:""})])]),_:2},1032,["src","onClick"])]))),128))]),t("div",K,[d(u)!=null?(s(),i("button",{key:0,style:{margin:"auto",padding:"auto"},onClick:k,class:"load-btn btn btn-success"}," Tải thêm ")):(s(),i("button",{key:1,style:{margin:"auto",padding:"auto"},onClick:k,class:"load-btn btn btn-success",disabled:""}," Tải thêm "))])]),t("div",Q,[W,t("textarea",{readonly:"",name:"",id:"",rows:"8",placeholder:"",value:d(x)},`
            `,8,X),Y])])],64)}}},ee=U(Z,[["__scopeId","data-v-acc2b7ce"]]);export{ee as default};
