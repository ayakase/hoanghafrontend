import{_ as T,r as l,g as w,o as p,c as _,j as I,z as g,a as e,q as O,v as k,k as v,b as x,F as V,f as C,s as r,p as N,d as S,L as B}from"./index-65a4f342.js";import{E as U}from"./Editor-620d11c7.js";const d=a=>(N("data-v-03224e07"),a=a(),S(),a),F={class:"add-container"},L=d(()=>e("h2",{style:{"text-align":"center","padding-top":"2rem"}},"Tạo bài viết mới",-1)),P={class:"mb-3"},R=d(()=>e("label",{for:"",class:"form-label"},"Tiêu đề",-1)),j={class:"mb-3 thumbnail"},z=d(()=>e("label",{for:"formFile",class:"form-label"},"Hình thu nhỏ",-1)),D={style:{width:"20rem","margin-top":"1rem"}},E=["src"],H={style:{width:"12rem",display:"flex","flex-direction":"row","align-items":"center"}},M={key:0,style:{color:"rgb(0, 102, 255)"},class:"fa-regular fa-paper-plane"},q=d(()=>e("div",{class:"mt-10 mb-2"},null,-1)),G={__name:"NewPost",setup(a){const n=l(!0),i=l(!1),m=l(),c=l(),u=l(),h=l();function f(t){console.log(t),t.target.files.length&&(m.value=URL.createObjectURL(t.target.files[0])),h.value=t.target.files[0]}function b(){i.value=!0;const t=new FormData;t.append("postTitle",c.value),t.append("postThumbnail",h.value),t.append("postContent",u.value),t.append("publishState",n.value),C.post("/admin/post",t,{headers:{"Content-Type":"multipart/form-data"}}).then(o=>{console.log(o.data),i.value=!1,r.success("Đã nhận thông tin",{autoClose:2e3,theme:"colored",position:r.POSITION.BOTTOM_RIGHT})}).catch(o=>{console.error(o),i.value=!1,r.error("Lỗi "+o+" , đảm bảo là bạn đã điền đủ thông tin, hãy đợi 1p rồi submit lại hoặc là reload lại trang",{autoClose:2e3,theme:"colored",position:r.POSITION.BOTTOM_RIGHT})})}return(t,o)=>{const y=w("v-switch");return p(),_(V,null,[i.value?(p(),I(B,{key:0})):g("",!0),e("div",F,[L,e("div",P,[R,O(e("input",{type:"text",class:"form-control",id:"",placeholder:"","onUpdate:modelValue":o[0]||(o[0]=s=>c.value=s)},null,512),[[k,c.value]])]),e("div",j,[z,e("input",{class:"form-control",accept:"image/*",type:"file",id:"formFile",onChange:f},null,32),e("div",D,[e("img",{src:m.value,alt:"",style:{width:"100%"}},null,8,E)])]),e("div",H,[v(y,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=s=>n.value=s),label:"Xuất bản luôn",color:"info",style:{"margin-right":"1rem"},"hide-details":""},null,8,["modelValue"]),n.value?(p(),_("i",M)):g("",!0)]),e("div",null,[v(x(U),{style:{height:"50rem"},modelValue:u.value,"onUpdate:modelValue":o[2]||(o[2]=s=>u.value=s),"api-key":"8gzqmdnsiplu2pd33s0doas4xo8735024fznwlgttd4ldri6",init:{plugins:"  lists advlist link image table code help wordcount autosave emoticons",toolbar:" forecolor backcolor | undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | emoticons"}},null,8,["modelValue"])]),q,e("div",{onClick:b,class:"btn btn-success",style:{"margin-top":"1rem",right:"0",float:"right"}}," Add post ")])],64)}}},J=T(G,[["__scopeId","data-v-03224e07"]]);export{J as default};
