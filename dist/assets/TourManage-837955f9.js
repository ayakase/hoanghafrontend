import{_ as S,c as b,d as C,p as q,n as I,e as t,u as P,r as v,o as Q,b as y,a as R,l as u,f as s,A as $,B as E,t as c,F as K,g as F,h as G,i as H,j as U,x}from"./index-6bd40210.js";const j={name:"TableLoading"},w=i=>(q("data-v-3b52e111"),i=i(),I(),i),z={class:"lds-facebook"},X=w(()=>t("div",null,null,-1)),J=w(()=>t("div",null,null,-1)),W=w(()=>t("div",null,null,-1)),Y=[X,J,W];function Z(i,l,r,p,f,T){return b(),C("div",z,Y)}const tt=S(j,[["render",Z],["__scopeId","data-v-3b52e111"]]);const n=i=>(q("data-v-d2c92408"),i=i(),I(),i),ot={class:"admin-tour-crud"},et=n(()=>t("i",{class:"fa-solid fa-plus"},null,-1)),st={class:"sorting-container"},nt=n(()=>t("div",{style:{"font-size":"larger"}},"Bộ lọc:",-1)),at={class:"sorting-button-container"},lt={class:"d-flex search-container"},ct=n(()=>t("i",{class:"fas fa-search"},null,-1)),it=[ct],dt={class:"btn-group"},ut={type:"button",class:"btn btn-success dropdown-toggle","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{color:"white"}},rt=n(()=>t("i",{class:"fa-solid fa-book"}," :",-1)),ht=n(()=>t("i",{class:"fa-regular fa-rectangle-list"},null,-1)),_t=n(()=>t("i",{class:"fa-solid fa-vihara"},null,-1)),pt=n(()=>t("i",{class:"fa-solid fa-flag"},null,-1)),vt=n(()=>t("i",{class:"fa-solid fa-globe"},null,-1)),bt=n(()=>t("i",{class:"fa-solid fa-arrow-up-wide-short"},null,-1)),ft=n(()=>t("i",{class:"fa-solid fa-arrow-down-wide-short"},null,-1)),gt=n(()=>t("i",{class:"fa-solid fa-rotate-right"},null,-1)),mt=[gt],kt={key:0,class:"table table-success table-striped table-hover",style:{width:"80vw","box-shadow":"rgba(0, 0, 0, 0.24) 0px 3px 8px"}},Ct=n(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col"},"ID"),t("th",{scope:"col"},"Tên tour"),t("th",{scope:"col"},"Lịch trình"),t("th",{scope:"col"},"Danh mục"),t("th",{scope:"col"},"Khởi hành"),t("th",{scope:"col"},"Số ngày"),t("th",{scope:"col"},"Tour Hot"),t("th",{scope:"col"},"Phương tiện"),t("th",{scope:"col"}," Tạo lúc "),t("th",{scope:"col"}," Chỉnh sửa "),t("th",{scope:"col"}," Xóa")])],-1)),yt=["onClick"],wt=["onClick"],Tt=["onClick"],$t=["onClick"],xt=["onClick"],St=["onClick"],qt=["onClick"],It=["onClick"],Dt=["onClick"],Bt=n(()=>t("td",null,[t("button",{class:"edit-button"},[t("i",{class:"fa-solid fa-pen-to-square"})])],-1)),Nt=["onClick"],Lt=n(()=>t("i",{class:"fa-solid fa-trash"},null,-1)),Mt=[Lt],Vt={__name:"TourManage",setup(i){const l=P();let r=v(1),p=v(),f=v();Q(()=>{y.get("/admin/tour/"+_.value+"/"+m.value+"/1").then(o=>{console.log(o.data),p.value=o.data.rows,f.value=o.data.count/10+1}).catch(o=>{console.error(o)})});function T(){y.get("/admin/tour/"+_.value+"/"+m.value+"/"+r.value).then(o=>{console.log(o.data),p.value=o.data.rows,f.value=o.data.count/10+1}).catch(o=>{console.error(o)})}function D(o){console.log(o);let a="Bạn có chắc chắn muốn xóa Tour "+o;confirm(a)==!0&&y.delete("/admin/tour/"+o).then(k=>{console.log(k),x.success("Đã xóa",{autoClose:2e3,theme:"dark",position:x.POSITION.BOTTOM_RIGHT}),h()}).catch(k=>{console.error(k)})}let g=v("Tất cả"),_=v(0);function B(){g.value="Tất cả",_.value=0,h()}function N(){g.value="Trung Quốc",_.value=1,h()}function L(){g.value="Trong nước",_.value=2,h()}function M(){g.value="Quốc tế",_.value=3,h()}let m=v("DESC");function V(){m.value="DESC",h()}function O(){m.value="ASC",h()}function h(){y.get("/admin/tour/"+_.value+"/"+m.value+"/"+r.value).then(o=>{console.log(o.data),p.value=o.data.rows,f.value=o.data.count/10+1}).catch(o=>{console.error(o)})}function A(o){const a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return new Date(o).toLocaleString("vi-VN",a).replace(" tháng ","/").replace("lúc","").replace(", ","/")}return(o,a)=>{const k=R("v-pagination");return b(),C("div",ot,[t("button",{onClick:a[0]||(a[0]=e=>s(l).push("/admin/quan-li-tour/them-tour")),class:"btn btn-success add-btn",style:{"margin-bottom":"1rem"}},[u(" Thêm tour mới "),et]),t("div",st,[nt,t("div",at,[t("form",lt,[t("button",{class:"btn btn-outline-success",onClick:a[1]||(a[1]=$(()=>{},["prevent"]))},it),t("input",{onKeydown:a[2]||(a[2]=E($(()=>{},["prevent"]),["enter"])),class:"form-control me-2 search-box",type:"search",placeholder:"Tìm kiếm theo tên","aria-label":"Search"},null,32)]),t("div",dt,[t("button",ut,[u(" Danh mục   "),rt,u(" "+c(s(g)),1)]),t("div",{class:"dropdown-menu"},[t("button",{class:"dropdown-item",onClick:B},[u("Tất cả  "),ht]),t("button",{class:"dropdown-item",onClick:N},[u("Trung Quốc  "),_t]),t("button",{class:"dropdown-item",onClick:L},[u("Trong nước   "),pt]),t("button",{class:"dropdown-item",onClick:M},[u("Quốc tế   "),vt])])]),t("button",{class:"sort-button btn btn-success",onClick:V},[u("Mới nhất   "),bt]),t("button",{class:"sort-button btn btn-success",onClick:O},[u("Cũ nhất   "),ft]),t("button",{class:"btn btn-success",onClick:h},mt)])]),s(p)?(b(),C("table",kt,[Ct,t("tbody",null,[(b(!0),C(K,null,F(s(p),e=>(b(),C("tr",{key:e,class:"each-tour-row"},[t("th",{scope:"row",onClick:d=>s(l).push({path:"/tourdetail",query:{id:e.id}})},c(e.id),9,yt),t("td",{onClick:d=>s(l).push({path:"/tourdetail",query:{id:e.id}})},c(e.title),9,wt),t("td",{onClick:d=>s(l).push({path:"/tourdetail",query:{id:e.id}})},c(e.schedule),9,Tt),t("td",{onClick:d=>s(l).push({path:"/tourdetail",query:{id:e.id}})},c(e.Category.name),9,$t),t("td",{onClick:d=>s(l).push({path:"/tourdetail",query:{id:e.id}})},c(e.departure),9,xt),t("td",{onClick:d=>s(l).push({path:"/tourdetail",query:{id:e.id}})},c(e.days),9,St),t("td",{onClick:d=>s(l).push({path:"/tourdetail",query:{id:e.id}})},c(e.ishottour),9,qt),t("td",{onClick:d=>s(l).push({path:"/tourdetail",query:{id:e.id}})},c(e.transportation),9,It),t("td",{onClick:d=>s(l).push({path:"/tourdetail",query:{id:e.id}})},c(A(e.createdAt)),9,Dt),Bt,t("td",null,[t("button",{class:"delete-button",onClick:d=>D(e.id)},Mt,8,Nt)])]))),128))])])):(b(),G(tt,{key:1})),H(k,{onClick:T,modelValue:s(r),"onUpdate:modelValue":a[3]||(a[3]=e=>U(r)?r.value=e:r=e),length:s(f),"total-visible":5,"prev-icon":"fa-solid fa-chevron-left","next-icon":"fa-solid fa-chevron-right"},null,8,["modelValue","length"]),t("div",null,c(s(r)),1)])}}},At=S(Vt,[["__scopeId","data-v-d2c92408"]]);export{At as default};
